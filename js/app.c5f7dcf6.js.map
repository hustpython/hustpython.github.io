{"version":3,"file":"js/app.c5f7dcf6.js","mappings":"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","sources":["webpack://lmdb/./src/config/config.js","webpack://lmdb/./src/store/themeData.js","webpack://lmdb/./src/App.vue","webpack://lmdb/./src/App.vue?7ccd","webpack://lmdb/./src/components/Header.vue","webpack://lmdb/./src/components/Header.vue?801b","webpack://lmdb/./src/store/videoData.js","webpack://lmdb/./src/api/request.js","webpack://lmdb/./src/api/videolist.js","webpack://lmdb/./src/components/MiddleSearch.vue","webpack://lmdb/./src/components/MiddleSearch.vue?610b","webpack://lmdb/./src/api/timefilter.js","webpack://lmdb/./src/components/MiddleFilter.vue","webpack://lmdb/./src/components/MiddleFilter.vue?d934","webpack://lmdb/./src/components/MiddleList.vue","webpack://lmdb/./src/components/MiddleList.vue?0afa","webpack://lmdb/./src/components/Footer.vue","webpack://lmdb/./src/components/Footer.vue?7cca","webpack://lmdb/./src/views/Home.vue","webpack://lmdb/./src/components/LVideo.vue","webpack://lmdb/./src/components/LVideo.vue?e1b9","webpack://lmdb/./src/views/Video.vue","webpack://lmdb/./src/views/Video.vue?c293","webpack://lmdb/./src/router/index.js","webpack://lmdb/./src/store/index.js","webpack://lmdb/./src/main.js","webpack://lmdb/webpack/bootstrap","webpack://lmdb/webpack/runtime/chunk loaded","webpack://lmdb/webpack/runtime/compat get default export","webpack://lmdb/webpack/runtime/define property getters","webpack://lmdb/webpack/runtime/global","webpack://lmdb/webpack/runtime/hasOwnProperty shorthand","webpack://lmdb/webpack/runtime/make namespace object","webpack://lmdb/webpack/runtime/publicPath","webpack://lmdb/webpack/runtime/jsonp chunk loading","webpack://lmdb/webpack/startup"],"sourcesContent":["config = {\r\n    // 后端配置\r\n    SERVER_API: \"http://192.168.31.54:9090/\",\r\n    AllVideoTags: [\"动漫\", \"历史\", \"战争\", \"记录\", \"科幻\", \"青春\", \"都市\",\r\n        \"剧情\", \"爱情\", \"亲情\", \"治愈\", \"日系\"],\r\n}","import { defineStore } from 'pinia';\r\n\r\nexport const useDarkTheme = defineStore({\r\n    id: \"themeData\",\r\n    state: () => {\r\n        return {\r\n            themeData: true,\r\n        }\r\n    },\r\n    actions: {\r\n        unsetDarkTheme() {\r\n            this.themeData = false;\r\n        },\r\n        setDarkTheme() {\r\n            this.themeData = true;\r\n        }\r\n    },\r\n    persist: {\r\n        enabled: true,\r\n        strategies: [{\r\n            key: 'themeData',\r\n            storage: localStorage,\r\n        }]\r\n    }\r\n})","<template>\r\n    <n-config-provider :locale=\"zhCN\" :date-locale=\"dateZhCN\" :theme=\"theme\">\r\n        <n-layout class=\"main\">\r\n            <n-notification-provider>\r\n                <router-view/>\r\n            </n-notification-provider>\r\n        </n-layout>\r\n    </n-config-provider>\r\n</template>\r\n\r\n<script setup>\r\n    import {computed} from \"vue\";\r\n    import {storeToRefs} from \"pinia\";\r\n    import {darkTheme, zhCN, dateZhCN} from \"naive-ui\";\r\n    import {useDarkTheme} from \"@/store/themeData\";\r\n\r\n    const darkThemeStore = useDarkTheme();\r\n    var {themeData} = storeToRefs(darkThemeStore);\r\n\r\n    const theme = computed(() => {\r\n        if (themeData.value === true) {\r\n            return darkTheme;\r\n        } else {\r\n            return null;\r\n        }\r\n    });\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .main {\r\n        @include theme();\r\n    }\r\n</style>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=82ed3610&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <n-layout-header class=\"nav\" bordered>\r\n        <div class=\"ui-logo\">\r\n            <img :src=\"logourl\"\r\n            />\r\n            <a href=\"/\">\r\n                <n-gradient-text :size=\"24\" type=\"success\"> LMDB</n-gradient-text>\r\n            </a>\r\n        </div>\r\n        <n-menu\r\n                class=\"header-menu\"\r\n                mode=\"horizontal\"\r\n                default-value=\"首页\"\r\n                :render-label=\"renderMenuLabel\"\r\n                :options=\"options\"\r\n        />\r\n        <div class=\"nav-end\">\r\n            <n-button\r\n                    @click=\"handleThemeClick\"\r\n                    strong\r\n                    secondary\r\n                    style=\"margin-right: 30px\"\r\n                    size=\"small\"\r\n            >\r\n                {{ themeBtnText.text }}\r\n            </n-button>\r\n            <img style=\"height: 32px; width: 32px; border-radius: 16px\" :src=\"avatarurl\"/>\r\n        </div>\r\n        <div class=\"rightbar\">\r\n            <n-icon size=\"30\">\r\n                <Search/>\r\n            </n-icon>\r\n        </div>\r\n    </n-layout-header>\r\n</template>\r\n\r\n<script setup>\r\n    import {h, reactive, onBeforeMount} from \"vue\";\r\n    import {useDarkTheme} from \"@/store/themeData\";\r\n    import {Search} from \"@vicons/carbon\";\r\n\r\n    const darkThemeStore = useDarkTheme();\r\n\r\n    // 默认深色主题\r\n    let themeBtnText = reactive({text: \"深色\"});\r\n    onBeforeMount(() => {\r\n        if (darkThemeStore.themeData === true) {\r\n            themeBtnText.text = \"浅色\";\r\n            setAttribute(\"deep\");\r\n        } else {\r\n            setAttribute(\"light\");\r\n        }\r\n    });\r\n\r\n    const setAttribute = (theme) => {\r\n        window.document.documentElement.setAttribute(\"data-theme\", theme);\r\n    };\r\n\r\n    const logourl = require(\"../assets/naivelog.svg\");\r\n    const avatarurl = require(\"../assets/axu.png\");\r\n    const handleThemeClick = () => {\r\n        if (themeBtnText.text === \"浅色\") {\r\n            themeBtnText.text = \"深色\";\r\n            setAttribute(\"light\");\r\n            darkThemeStore.unsetDarkTheme();\r\n        } else {\r\n            themeBtnText.text = \"浅色\";\r\n            setAttribute(\"deep\");\r\n            darkThemeStore.setDarkTheme();\r\n        }\r\n    };\r\n    window.addEventListener(\r\n        \"scroll\",\r\n        () => {\r\n            if (scrollY > 63) {\r\n                document.body.style.setProperty(\"--headerTopScroll\", \"-63px\");\r\n            } else {\r\n                document.body.style.setProperty(\"--headerTopScroll\", \"0px\");\r\n            }\r\n        },\r\n        true\r\n    );\r\n\r\n    const options = [\r\n        {\r\n            label: \"首页\",\r\n            key: \"首页\",\r\n            href: \"/\",\r\n        },\r\n        {\r\n            label: \"视频\",\r\n            key: \"视频\",\r\n        },\r\n        {\r\n            label: \"剪辑\",\r\n            key: \"剪辑\",\r\n        },\r\n        {\r\n            label: \"影评\",\r\n            key: \"影评\",\r\n        },\r\n    ];\r\n\r\n    const renderMenuLabel = (option) => {\r\n        if (\"href\" in option) {\r\n            return h(\"a\", {href: option.href}, option.label);\r\n        }\r\n        return option.label;\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .nav {\r\n        padding: 0 var(--side-padding);\r\n        grid-template-columns: calc(272px - var(--side-padding)) 1fr auto;\r\n        height: var(--headerTop);\r\n        display: grid;\r\n        z-index: 30;\r\n        position: fixed;\r\n        top: var(--headerTopScroll);\r\n        transition: top 0.2s linear;\r\n        @include theme();\r\n        @include phone() {\r\n            padding: 0 20px;\r\n        }\r\n\r\n        .ui-logo {\r\n            cursor: pointer;\r\n            display: flex;\r\n            font-size: 27px;\r\n            color: white;\r\n\r\n            img {\r\n                height: 32px;\r\n                margin-right: 30px;\r\n                width: 32px;\r\n            }\r\n        }\r\n\r\n        .ui-logo {\r\n            align-items: center;\r\n        }\r\n\r\n        .header-menu {\r\n            display: flex;\r\n            color: #8a2be2;\r\n            font-size: 15px;\r\n            align-items: center;\r\n            width: 400px;\r\n            @include phone() {\r\n                display: none;\r\n            }\r\n        }\r\n\r\n        .nav-end {\r\n            cursor: pointer;\r\n            display: flex;\r\n            font-size: 27px;\r\n            color: white;\r\n            align-items: center;\r\n\r\n            img {\r\n                @include phone() {\r\n                    display: none;\r\n                }\r\n            }\r\n        }\r\n\r\n        .rightbar {\r\n            display: none;\r\n            @include phone() {\r\n                cursor: pointer;\r\n                display: flex;\r\n                color: $lightBlue;\r\n                align-items: center;\r\n                @include theme();\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","import script from \"./Header.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Header.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=e5785b4c&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineStore } from 'pinia';\r\n\r\nexport const useVideoData = defineStore({\r\n    id: \"videoData\",\r\n    state: () => {\r\n        return {\r\n            videoData: [],\r\n        }\r\n    },\r\n    actions: {\r\n        addVideoData(val) {\r\n            this.videoData.push(...val);\r\n        },\r\n        setVideoData(val) {\r\n            this.videoData = val;\r\n        }\r\n    },\r\n    persist: {\r\n        enabled: false,\r\n        strategies: [{\r\n            key: 'videoData',\r\n            storage: localStorage,\r\n        }]\r\n    }\r\n})","import axios from 'axios'\r\nimport '@/config/config.js'\r\n\r\n// 创建一个 axios 实例\r\nconst service = axios.create({\r\n\tbaseURL: config.SERVER_API + 'v1', // 所有的请求地址前缀部分\r\n\ttimeout: 600000, // 请求超时时间毫秒\r\n})\r\n\r\n// 添加请求拦截器\r\nservice.interceptors.request.use(\r\n\tfunction (config) {\r\n\t\t// 在发送请求之前做些什么\r\n\t\treturn config\r\n\t},\r\n\tfunction (error) {\r\n\t\t// 对请求错误做些什么\r\n\t\treturn Promise.reject(error)\r\n\t}\r\n)\r\n\r\n// 添加响应拦截器\r\nservice.interceptors.response.use(\r\n\tfunction (response) {\r\n\t\t// 2xx 范围内的状态码都会触发该函数。\r\n\t\t// 对响应数据做点什么\r\n\t\t// dataAxios 是 axios 返回数据中的 data\r\n\t\tconst dataAxios = {}\r\n\t\tdataAxios.data = response.data\r\n\t\tdataAxios.code = response.status\r\n\t\treturn dataAxios\r\n\t},\r\n\tfunction (error) {\r\n\t\t// 超出 2xx 范围的状态码都会触发该函数。\r\n\t\t// 对响应错误做点什么\r\n\t\treturn Promise.reject(error)\r\n\t}\r\n)\r\n\r\nexport default service\r\n\r\n","// 导入axios实例\r\nimport httpRequest from './request'\r\n\r\n// 获取Video信息\r\nexport function GetVideList() {\r\n    return httpRequest({\r\n        url: '/movie',\r\n        method: 'get',\r\n    })\r\n}\r\n\r\nexport function SyncVideo(param) {\r\n    return httpRequest({\r\n        url: '/movie',\r\n        method: \"post\",\r\n        data: JSON.stringify(param),\r\n    })\r\n}\r\n\r\nexport function UpdateVideo(param) {\r\n    return httpRequest({\r\n        url: '/movie',\r\n        method: \"PUT\",\r\n        data: JSON.stringify(param),\r\n    })\r\n}\r\n\r\nexport function GetAllTags() {\r\n    return httpRequest({\r\n        url: '/tag/AllTag',\r\n        method: \"GET\",\r\n    })\r\n}\r\n\r\nexport function GetMoviesByTag(param) {\r\n    return httpRequest({\r\n        url: '/tag/?Tag=' + param,\r\n        method: \"GET\",\r\n    })\r\n}\r\n\r\nexport function GetAllColl() {\r\n    return httpRequest({\r\n        url: '/coll/AllColl',\r\n        method: \"GET\",\r\n    })\r\n}\r\n\r\nexport function GetMovieAndColl() {\r\n    return httpRequest({\r\n        url: '/coll/MovieAndColl',\r\n        method: \"GET\",\r\n    })\r\n}\r\n\r\nexport function BatchAddColl(param) {\r\n    return httpRequest({\r\n        url: '/coll',\r\n        method: \"POST\",\r\n        data: JSON.stringify(param),\r\n    })\r\n}\r\n\r\nexport function GetMoviesByColl(param) {\r\n    return httpRequest({\r\n        url: '/coll/?Coll=' + param,\r\n        method: \"GET\",\r\n    })\r\n}\r\n\r\nexport function GetMoviesByRecent() {\r\n    return httpRequest({\r\n        url: '/recent',\r\n        method: \"GET\",\r\n    })\r\n}\r\n\r\nexport function DeleteMovieColl(param) {\r\n    return httpRequest({\r\n        url: '/coll/?MId=' + param,\r\n        method: \"DELETE\",\r\n    })\r\n}\r\n\r\nexport function GetComment(param) {\r\n    return httpRequest({\r\n        url: '/comment/?MId=' + param,\r\n        method: \"GET\",\r\n    })\r\n}\r\n\r\nexport function DeleteComment(param) {\r\n    return httpRequest({\r\n        url: '/comment',\r\n        method: \"DELETE\",\r\n        data: JSON.stringify(param),\r\n    })\r\n}\r\n\r\nexport function AddComment(param) {\r\n    return httpRequest({\r\n        url: '/comment',\r\n        method: \"POST\",\r\n        data: JSON.stringify(param),\r\n    })\r\n}","<template>\r\n    <div class=\"imgbkg\">\r\n        <div class=\"content_wrap\">\r\n            <div class=\"title\">\r\n                <h2 style=\"color: white; font-size: 2.2em; font-weight: 600; line-height: 2\">\r\n                    欢迎！\r\n                </h2>\r\n                <h3 style=\"color: white; font-size: 1.8em; font-weight: 500; margin: 0\">\r\n                    这里是你本地所有的影视，快来探索与创作！\r\n                </h3>\r\n            </div>\r\n\r\n            <div class=\"select\">\r\n                <n-select\r\n                        class=\"search\"\r\n                        filterable\r\n                        :options=\"options\"\r\n                        :on-update:value=\"handleSeleteed\"\r\n                        placeholder=\"搜索电影、剧集、影评...\"\r\n                />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import {storeToRefs} from \"pinia\";\r\n    import {useVideoData} from \"@/store/videoData\";\r\n    import {useRouter} from \"vue-router\";\r\n    import {computed} from \"vue\";\r\n    import {GetMoviesByColl} from \"@/api/videolist\";\r\n\r\n    const imgurl = require(\"../assets/backimg.jpg\");\r\n\r\n    const videoDataStore = useVideoData();\r\n    var {videoData} = storeToRefs(videoDataStore);\r\n\r\n    const options = computed(() => {\r\n        let tmpOptions = [];\r\n        for (var i = 0; i < videoData.value.length; i++) {\r\n            tmpOptions.push({\r\n                label: videoData.value[i].Title,\r\n                value: i,\r\n            });\r\n        }\r\n        return tmpOptions;\r\n    });\r\n\r\n    const router = useRouter();\r\n    const handleSeleteed = (value) => {\r\n        let temMId = videoData.value[value].MId\r\n        if (videoData.value[value].CollStr.length != 0) {\r\n            GetMoviesByColl(videoData.value[value].CollStr).then((res) => {\r\n                if (res.code == 200) {\r\n                    videoDataStore.setVideoData(res.data);\r\n                    for (let i = 0; i < res.data.length; i++) {\r\n                        if (res.data[i].MId === temMId) {\r\n                            router.push({name: \"video\", params: {id: i}});\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            router.push({name: \"video\", params: {id: value}});\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .imgbkg {\r\n        width: 100%;\r\n        margin-top: var(--headerTop);\r\n        overflow: hidden;\r\n        height: $homeBckHeight;\r\n        background-image: v-bind(\"'url(' + imgurl + ')'\");\r\n        background-size: 100%;\r\n        @include phone {\r\n            height: 32px;\r\n            background-image: none;\r\n        }\r\n    }\r\n\r\n    .select {\r\n        width: 100%;\r\n        margin-top: 30px;\r\n        @include phone {\r\n            margin-top: 0;\r\n        }\r\n\r\n        .search {\r\n            @include theme();\r\n            width: 80%;\r\n            height: 32px;\r\n            line-height: 30px;\r\n            font-size: 1em;\r\n            border: 0;\r\n            outline: none;\r\n            border-radius: 30px;\r\n            padding: 10px 20px;\r\n            @include phone() {\r\n                width: 50%;\r\n            }\r\n        }\r\n    }\r\n\r\n    .content_wrap {\r\n        width: 680px;\r\n        text-align: left;\r\n        align-items: center;\r\n        margin-left: 100px;\r\n        margin-top: 20px;\r\n        position: absolute;\r\n        @include phone {\r\n            margin: 0;\r\n        }\r\n\r\n        .title {\r\n            @include phone {\r\n                display: none;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","import script from \"./MiddleSearch.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MiddleSearch.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MiddleSearch.vue?vue&type=style&index=0&id=6af3770a&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","export const timeFilter = (val) => {\r\n    function p(t) {\r\n        return t < 10 ? '0' + t : t;\r\n    }\r\n\r\n    var h = Math.floor(val / 60 / 60);\r\n    var m = Math.floor(val / 60 % 60);\r\n    var s = Math.floor(val % 60);\r\n    return p(h) + ':' + p(m) + ':' + p(s);\r\n}\r\n\r\nexport const timeStrToSec = (timeStr) => {\r\n    var hour = timeStr.split(':')[0];\r\n    var min = timeStr.split(':')[1];\r\n    var sec = timeStr.split(':')[2];\r\n    return Number(hour * 3600) + Number(min * 60) + Number(sec);\r\n}\r\n\r\nexport function getUTCTime() {\r\n    let d1 = new Date();\r\n    let d2 = new Date(d1.getUTCFullYear(), d1.getUTCMonth(), d1.getUTCDate(), d1.getUTCHours(), d1.getUTCMinutes(), d1.getUTCSeconds());\r\n    return Date.parse(d2) / 1000;\r\n}\r\n\r\nexport function getCurrentTime() {\r\n    let date = new Date();\r\n    let year = date.getFullYear(); //获取当前年份\r\n    let mon = date.getMonth() + 1; //获取当前月份\r\n    let da = date.getDate(); //获取当前日\r\n    let h = date.getHours(); //获取小时\r\n    let m = date.getMinutes(); //获取分钟\r\n    let s = date.getSeconds(); //获取秒\r\n    return `${year} ${mon} ${da} ${h}:${m}:${s}`;\r\n}\r\n","<template>\r\n    <div class=\"filter\">\r\n        <n-space class=\"videoTabs\" justify=\"space-between\">\r\n            <n-tabs\r\n                    type=\"bar\"\r\n                    default-value=\"4\"\r\n                    animated\r\n                    v-model:value=\"tabVal\"\r\n                    :on-update:value=\"handleUpdateValue\"\r\n            >\r\n                <n-tab name=\"1\"> 筛选</n-tab>\r\n                <n-tab name=\"2\"> 同步</n-tab>\r\n                <n-tab name=\"3\">\r\n                    <n-dropdown\r\n                            :options=\"collMenuOptions\"\r\n                            @select=\"handleCollMenuSelect\">\r\n                        <n-button>合集</n-button>\r\n                    </n-dropdown>\r\n                </n-tab>\r\n                <n-tab name=\"5\"> 最近</n-tab>\r\n                <n-tab name=\"4\"> 隐藏</n-tab>\r\n            </n-tabs>\r\n            <div class=\"pagenum\">\r\n                <n-pagination\r\n                        v-model:page=\"page\"\r\n                        v-model:page-size=\"pageSize\"\r\n                        :page-count=\"pageCount\"\r\n                        @update:page=\"handleUpdatePage\"\r\n                        show-size-picker\r\n                        :page-sizes=\"pageSizeArr\"\r\n                        style=\"margin-right: 40px\"\r\n                />\r\n                <n-badge\r\n                        color=\"var(--tmdbLightGreen)\"\r\n                        style=\"margin-right: 20px\"\r\n                        :value=\"videodataNum\"\r\n                        processing\r\n                >\r\n                    记录数\r\n                </n-badge>\r\n            </div>\r\n        </n-space>\r\n\r\n        <div class=\"videoTabs\" v-show=\"tabVal === '1'\">\r\n            <n-space>\r\n                <div v-for=\"(item, index) in allTags\">\r\n                    <n-button\r\n                            size=\"small\"\r\n                            bordered=\"false\"\r\n                            color=\"#42A5F5\"\r\n                            :ghost=\"tagIndex !== index\"\r\n                            @click=\"handleTagClick(index)\"\r\n                            round\r\n                    >\r\n                        {{ item }}\r\n                    </n-button>\r\n                </div>\r\n            </n-space>\r\n        </div>\r\n\r\n        <n-form :model=\"syncVideoForm\" class=\"videoTabs\" v-show=\"tabVal === '2'\">\r\n            <n-form-item label=\"最小值(M)\">\r\n                <n-select v-model:value=\"syncVideoForm.MinSize\" :options=\"syncVideoSize\"/>\r\n            </n-form-item>\r\n\r\n            <n-form-item path=\"category\" label=\"类型\">\r\n                <n-select v-model:value=\"syncVideoForm.MovieExt\" multiple :options=\"options\"/>\r\n            </n-form-item>\r\n\r\n            <n-form-item>\r\n                <n-popconfirm\r\n                        @positive-click=\"handleSbumitClick\"\r\n                        positive-text=\"确认!\"\r\n                        negative-text=\"取消!\"\r\n                >\r\n                    <template #trigger>\r\n                        <n-button>提交</n-button>\r\n                    </template>\r\n                    确认从本地同步最小为 {{ syncVideoForm.MinSize }} M 的\r\n                    {{ syncVideoForm.MovieExt }}格式的视频吗? 有可能会导致网页上的数据被覆盖哦!\r\n                </n-popconfirm>\r\n            </n-form-item>\r\n        </n-form>\r\n\r\n        <div class=\"videoTabs\" v-show=\"tabVal === '3'\">\r\n            <n-collapse\r\n                    accordion=\"true\"\r\n                    v-show=\"collMenuSelectKey===1\"\r\n                    arrow-placement=\"right\"\r\n                    :expanded-names=\"expandedCollNames\"\r\n                    @item-header-click=\"handleCollHeaderClick\"\r\n            >\r\n                <n-collapse-item\r\n                        :title=\"item.Title\" :name=\"index\" v-for=\"(item, index) in collEditForm\">\r\n                    <n-form\r\n                            label-placement=\"left\"\r\n                            label-width=\"auto\"\r\n                    >\r\n                        <n-form-item label=\"选择视频\" path=\"transferValue\">\r\n                            <n-transfer :options=\"item.TranOptions\"\r\n                                        v-model:value=\"item.SelectedValues\"/>\r\n                        </n-form-item>\r\n                        <n-form-item label=\"合集名称\" path=\"collName\">\r\n                            <n-input\r\n                                    v-model:value=\"item.DefaultCollName\"\r\n                                    maxlength=\"15\"\r\n                                    show-count clearable\r\n                            />\r\n                        </n-form-item>\r\n                        <n-form-item>\r\n                            <n-space>\r\n                                <n-button attr-type=\"button\" @click=\"handleAddCollFormSubmit(index)\">\r\n                                    提交\r\n                                </n-button>\r\n                                <n-button attr-type=\"button\" @click=\"handleAddCollFormCancel\">\r\n                                    取消\r\n                                </n-button>\r\n                            </n-space>\r\n                        </n-form-item>\r\n                    </n-form>\r\n                </n-collapse-item>\r\n            </n-collapse>\r\n\r\n            <n-list v-show=\"collMenuSelectKey===0\" class=\"coll\" v-for=\"(coll, index) in allColl\" hoverable clickable\r\n                    bordered>\r\n                <n-list-item @click=\"handleCollClick(index)\">\r\n                    <n-thing\r\n                            :title=\"coll\"\r\n                            content-style=\"margin-top: 10px; font-size:12px!important\"\r\n                    >\r\n                    </n-thing>\r\n                </n-list-item>\r\n            </n-list>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import {ref, computed, onBeforeMount} from \"vue\";\r\n    import {useVideoData} from \"@/store/videoData\";\r\n    import {storeToRefs} from \"pinia\";\r\n    import {SyncVideo, GetMoviesByRecent} from \"@/api/videolist\";\r\n    import {useNotification} from \"naive-ui\";\r\n\r\n    import {\r\n        GetAllTags,\r\n        GetVideList,\r\n        GetMoviesByTag,\r\n        GetAllColl,\r\n        GetMoviesByColl,\r\n        GetMovieAndColl,\r\n        BatchAddColl,\r\n    } from \"@/api/videolist\";\r\n\r\n    import {useRouter} from \"vue-router\";\r\n\r\n    const router = useRouter();\r\n\r\n    const notification = useNotification();\r\n\r\n    const syncVideoSize = [\r\n        {\r\n            label: 0,\r\n            value: 0,\r\n        },\r\n        {\r\n            label: 200,\r\n            value: 200,\r\n        },\r\n        {\r\n            label: 400,\r\n            value: 400,\r\n        },\r\n        {\r\n            label: 800,\r\n            value: 800,\r\n        },\r\n        {\r\n            label: 1024,\r\n            value: 1024,\r\n        },\r\n        {\r\n            label: 2048,\r\n            value: 2048,\r\n        },\r\n    ];\r\n\r\n    const videoDataStore = useVideoData();\r\n    var tabVal = ref();\r\n    var tagIndex = ref(0);\r\n\r\n    var syncVideoForm = ref({\r\n        MinSize: 200,\r\n        MovieExt: [\"mp4\", \"MP4\"],\r\n    });\r\n    const options = [\r\n        {\r\n            label: \"mp4\",\r\n            value: \"mp4\",\r\n        },\r\n        {\r\n            label: \"MP4\",\r\n            value: \"MP4\",\r\n        },\r\n        {\r\n            label: \"mkv\",\r\n            value: \"mkv\",\r\n        },\r\n        {\r\n            label: \"rmvb\",\r\n            value: \"rmvb\",\r\n        },\r\n        {\r\n            label: \"avi\",\r\n            value: \"avi\",\r\n        },\r\n        {\r\n            label: \"webm\",\r\n            value: \"webm\",\r\n        },\r\n    ];\r\n\r\n    let allTags = ref([\"全部\"]);\r\n    let allColl = ref([]);\r\n    // 加载后端数据\r\n    onBeforeMount(() => {\r\n        GetAllTags().then((res) => {\r\n            if (res.code == 200) {\r\n                allTags.value.push(...res.data);\r\n            }\r\n        });\r\n        GetAllColl().then((res) => {\r\n            if (res.code == 200) {\r\n                allColl.value = res.data;\r\n            }\r\n        });\r\n    });\r\n\r\n    const handleUpdateValue = (value) => {\r\n        tabVal.value = value;\r\n        if (value === \"5\") {\r\n            GetMoviesByRecent().then((res) => {\r\n                if (res.code == 200) {\r\n                    videoDataStore.setVideoData(res.data);\r\n                    notification.success({\r\n                        content: \"成功查询到\" + res.data.length + \"个视频\",\r\n                        duration: 1000,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleTagClick = (index) => {\r\n        tagIndex.value = index;\r\n        if (index === 0) {\r\n            GetVideList().then((res) => {\r\n                if (res.code == 200) {\r\n                    videoDataStore.setVideoData(res.data);\r\n                    notification.success({\r\n                        content: \"成功查询到\" + res.data.length + \"个视频\",\r\n                        duration: 1000,\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            GetMoviesByTag(allTags.value[index]).then((res) => {\r\n                if (res.code == 200) {\r\n                    videoDataStore.setVideoData(res.data);\r\n                    notification.success({\r\n                        content: \"成功查询到\" + res.data.length + \"个视频\",\r\n                        duration: 1000,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleCollClick = (index) => {\r\n        GetMoviesByColl(allColl.value[index]).then((res) => {\r\n            if (res.code == 200) {\r\n                videoDataStore.setVideoData(res.data);\r\n                notification.success({\r\n                    content: \"合集:\" + allColl.value[index] + \"共有\" + res.data.length + \"个视频\",\r\n                    duration: 1000,\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    var {videoData} = storeToRefs(videoDataStore);\r\n    const emit = defineEmits([\"videoPageChange\"]);\r\n\r\n    const pageWidth = ref(document.body.clientWidth);\r\n\r\n    const page = ref(1);\r\n\r\n    // index.css 中修改时，需要同步修改\r\n    const videoCardWidth = 270;\r\n    var pageSize = ref(Math.floor(pageWidth.value / videoCardWidth) * 2);\r\n\r\n    const handleUpdatePage = (page) => {\r\n        emit(\"videoPageChange\", page, pageSize.value);\r\n    };\r\n\r\n    const pageSizeArr = computed(() => {\r\n        return [\r\n            Math.floor(pageWidth.value / videoCardWidth) * 1,\r\n            Math.floor(pageWidth.value / videoCardWidth) * 2,\r\n            Math.floor(pageWidth.value / videoCardWidth) * 3,\r\n        ];\r\n    });\r\n\r\n    const pageCount = computed(() => {\r\n        handleUpdatePage(page.value);\r\n        return Math.ceil(videoData.value.length / pageSize.value);\r\n    });\r\n\r\n    const videodataNum = computed(() => {\r\n        return videoData.value.length;\r\n    });\r\n\r\n    window.onresize = () => {\r\n        pageWidth.value = document.body.clientWidth;\r\n    };\r\n\r\n    const handleSbumitClick = () => {\r\n        SyncVideo(syncVideoForm.value).then((res) => {\r\n            if (res.code == 200) {\r\n                if (res.data === null) {\r\n                    notification.success({\r\n                        content: \"视频已经是最新的了!\",\r\n                        duration: 3000,\r\n                    });\r\n                } else {\r\n                    videoDataStore.addVideoData(res.data);\r\n                    notification.success({\r\n                        content: \"成功从本地磁盘同步\" + res.data.length + \"个视频\",\r\n                        duration: 3000,\r\n                    });\r\n                }\r\n                router.go(0);\r\n            }\r\n        });\r\n    };\r\n\r\n    const collMenuOptions = [{\r\n        label: \"查询\",\r\n        key: 0,\r\n    }, {\r\n        label: \"编辑\",\r\n        key: 1\r\n    }];\r\n    let collMenuSelectKey = ref(0);\r\n\r\n\r\n    const collEditForm = ref();\r\n    const expandedCollNames = ref([]);\r\n\r\n    const handleAddCollFormSubmit = (index) => {\r\n        if (collEditForm.value[index].SelectedValues.length === 0 ||\r\n            collEditForm.value[index].DefaultCollName.length == 0 ||\r\n            collEditForm.value[index].DefaultCollName.length > 15) {\r\n            notification.error({\r\n                content: \"输入数据无效\",\r\n                duration: 1000,\r\n            });\r\n            return;\r\n        } else {\r\n            let temData = {\r\n                CollName: collEditForm.value[index].DefaultCollName,\r\n                MIds: collEditForm.value[index].SelectedValues,\r\n            }\r\n            BatchAddColl(temData).then((res) => {\r\n                if (res.code == 200) {\r\n                    notification.success({\r\n                        content: collEditForm.value[index].SelectedValues.length +\r\n                            \"个视频超过加入合集\" + collEditForm.value[index].DefaultCollName,\r\n                        duration: 3000,\r\n                    });\r\n                } else {\r\n                    notification.error({\r\n                        content: \"添加合集失败\",\r\n                        duration: 1000,\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        expandedCollNames.value = [];\r\n    }\r\n\r\n    const handleLoadMovieAndColl = () => {\r\n        GetMovieAndColl().then((res) => {\r\n            if (res.code == 200) {\r\n                collEditForm.value = res.data;\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleCollMenuSelect = (key) => {\r\n        collMenuSelectKey.value = key;\r\n        if (key === 1) {\r\n            handleLoadMovieAndColl();\r\n        } else {\r\n            GetAllColl().then((res) => {\r\n                if (res.code == 200) {\r\n                    allColl.value = res.data;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const handleAddCollFormCancel = () => {\r\n        expandedCollNames.value = [];\r\n    }\r\n    const handleCollHeaderClick = (name) => {\r\n        if (name.expanded) {\r\n            expandedCollNames.value = [name.name];\r\n        } else {\r\n            expandedCollNames.value = [];\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    .filter {\r\n        @include phone {\r\n            display: none;\r\n        }\r\n\r\n        .videoTabs {\r\n            padding: 7px 17px 7px 17px;\r\n            max-height: 300px;\r\n            overflow: auto;\r\n            @include phone {\r\n                display: none;\r\n            }\r\n        }\r\n\r\n        .pagenum {\r\n            display: inline-flex;\r\n            align-items: center;\r\n        }\r\n\r\n        .coll {\r\n            @include theme();\r\n        }\r\n    }\r\n</style>\r\n","import script from \"./MiddleFilter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MiddleFilter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MiddleFilter.vue?vue&type=style&index=0&id=6b29642d&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <canvas id=\"localcanvas\" style=\"display: none\"></canvas>\r\n    <div\r\n            class=\"cards\"\r\n            v-bind:class=\"{\r\n      showing: hoverEffict.isShowing,\r\n    }\"\r\n    >\r\n        <MiddleFilter @videoPageChange=\"handlePageChange\"/>\r\n        <div\r\n                class=\"card\"\r\n                v-bind:class=\"{\r\n        show: index === hoverEffict.index,\r\n      }\"\r\n                @mouseenter=\"handleMouseEnter(index)\"\r\n                @mouseleave=\"handleMouseLeave(index)\"\r\n                v-for=\"(item, index) in videoData.slice(begin, end)\"\r\n        >\r\n            <div class=\"card-image videoCardSize\">\r\n                <img\r\n                        @click=\"setTitleHref(index)\"\r\n                        class=\"videoCardSize\"\r\n                        :src=\"item.Cover.length === 0 ? defaultCover : setCoverData(item.Cover)\"\r\n                />\r\n\r\n                <span class=\"card-duration\">{{ item.Duration }}</span>\r\n            </div>\r\n\r\n            <div class=\"video-mask videoCardSize\" v-show=\"index === hoverEffict.videoIndex\">\r\n                <video\r\n                        :id=\"'video_' + index\"\r\n                        crossorigin=\"anonymous\"\r\n                        class=\"videoCardSize\"\r\n                        muted\r\n                        preload\r\n                        autoplay\r\n                        @loadeddata=\"handleLoadVideo($event, index)\"\r\n                        @mousemove=\"handleProgress($event)\"\r\n                        @click=\"handleVideoClick\"\r\n                        :src=\"item.TmpVideoUrl\"\r\n                ></video>\r\n                <div class=\"set-cover\">\r\n                    <img\r\n                            class=\"set-cover-svg\"\r\n                            @click=\"handleChangeBck(index)\"\r\n                            src=\"../assets/yl.svg\"\r\n                    />\r\n                    <span class=\"set-cover-tip\">设为封面</span>\r\n                </div>\r\n                <div class=\"video-duration-progress\">\r\n                    <span :style=\"'width:' + hoverEffict.progress + '%'\"></span>\r\n                </div>\r\n            </div>\r\n\r\n            <div @click=\"setTitleHref(index)\" class=\"card-title\">\r\n                <div>\r\n                    <n-ellipsis class=\"ellipsistitle\">\r\n                        {{ item.Title }}\r\n                    </n-ellipsis>\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                    class=\"card-flap flap1\"\r\n                    v-bind:class=\"{\r\n          showing: hoverEffict.isShowing,\r\n        }\"\r\n            >\r\n                <n-space class=\"description\">\r\n                    <div v-for=\"(item, index) in item.TagArray\">\r\n                        <n-tag size=\"small\" :type=\"labelTypes[index]\" round>\r\n                            {{ item }}\r\n                        </n-tag>\r\n                    </div>\r\n                </n-space>\r\n                <n-ellipsis class=\"description\" :line-clamp=\"3\" style=\"text-align: center\">\r\n                    {{ item.Desc }}\r\n                </n-ellipsis>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"videoListForPhone\">\r\n        <n-list class=\"coll\" v-for=\"(item, index) in videoData\" hoverable clickable\r\n                bordered>\r\n            <n-list-item @click=\"setTitleHref(index)\">\r\n                <n-thing\r\n                        :title=\"item.Title\"\r\n                        content-style=\"margin-top: 10px; font-size:12px!important\"\r\n                >\r\n                </n-thing>\r\n            </n-list-item>\r\n        </n-list>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n    import {GetMoviesByColl, GetVideList, UpdateVideo} from \"@/api/videolist\";\r\n    import {reactive, ref, onBeforeMount} from \"vue\";\r\n    import {timeFilter} from \"@/api/timefilter\";\r\n    import {useVideoData} from \"@/store/videoData\";\r\n    import {storeToRefs} from \"pinia\";\r\n    import {useNotification} from \"naive-ui\";\r\n    import {useRouter} from \"vue-router\";\r\n\r\n    import MiddleFilter from \"@/components/MiddleFilter.vue\";\r\n\r\n    const router = useRouter();\r\n\r\n    const defaultCover = require(\"../assets/videocardbck.png\");\r\n    const videoDataStore = useVideoData();\r\n    const notification = useNotification();\r\n\r\n    const labelTypes = [\"success\", \"warning\", \"error\", \"info\"];\r\n\r\n    var begin = ref(0);\r\n    var end = ref(0);\r\n\r\n    const absoluteIndex = (index) => {\r\n        return begin.value + index;\r\n    };\r\n\r\n    const setCoverData = (cover) => {\r\n        if (cover.indexOf(\";\") != -1) {\r\n            return cover;\r\n        }\r\n        return \"data:image/png;base64,\" + cover;\r\n    };\r\n\r\n    var {videoData} = storeToRefs(videoDataStore);\r\n\r\n    const handlePageChange = (page, pageCount) => {\r\n        begin.value = (page - 1) * pageCount;\r\n        end.value = page * pageCount;\r\n    };\r\n\r\n    handlePageChange(1);\r\n    const handleChangeBck = (index) => {\r\n        const myvideo = document.getElementById(\"video_\" + index); // 获取视频对象\r\n        const mycanvas = document.getElementById(\"localcanvas\"); // 获取 canvas 对象\r\n        const ctx = mycanvas.getContext(\"2d\"); // 绘制2d\r\n        mycanvas.width = myvideo.clientWidth; // 获取视频宽度\r\n        mycanvas.height = myvideo.clientHeight; //获取视频高度\r\n        ctx.drawImage(myvideo, 0, 0, mycanvas.width, mycanvas.height);\r\n        index = absoluteIndex(index);\r\n        try {\r\n            videoData.value[index].Cover = mycanvas.toDataURL(\"image/png\"); // 导出图片\r\n            let tmpCover = {\r\n                MId: videoData.value[index].MId,\r\n                Cover: videoData.value[index].Cover.slice(22),\r\n            };\r\n            UpdateVideo(tmpCover);\r\n            notification.success({\r\n                content: videoData.value[index].Title + \" : 设置背景成功\",\r\n                duration: 3000,\r\n            });\r\n        } catch (error) {\r\n            console.log(\"设置失败，稍后再试\", error);\r\n            videoData.value[index].TmpVideoUrl = \"\";\r\n            notification.error({\r\n                content: videoData.value[index].Title + \" : 设置背景失败\",\r\n                duration: 2000,\r\n            });\r\n            setTimeout(function () {\r\n                videoData.value[index].TmpVideoUrl =\r\n                    config.SERVER_API + videoData.value[index].VideoUrl;\r\n                hoverEffict.progress = 0;\r\n            }, 1);\r\n        }\r\n    };\r\n\r\n    const handleLoadVideo = (e, index) => {\r\n        index = absoluteIndex(index);\r\n        if (videoData.value[index].Duration.length !== 0) {\r\n            return;\r\n        }\r\n        videoData.value[index].Duration = timeFilter(e.target.duration);\r\n        let temDuration = {\r\n            MId: videoData.value[index].MId,\r\n            Duration: videoData.value[index].Duration,\r\n        };\r\n        UpdateVideo(temDuration);\r\n    };\r\n\r\n    var hoverEffict = reactive({\r\n        index: -1,\r\n        videoIndex: -1,\r\n        isShowing: false,\r\n        progress: 0,\r\n    });\r\n    // 加载后端数据\r\n    onBeforeMount(() => {\r\n        GetVideList().then((res) => {\r\n            if (res.code == 200) {\r\n                videoDataStore.setVideoData(res.data);\r\n            }\r\n        });\r\n    });\r\n\r\n    let videoTimer;\r\n\r\n    const handleMouseEnter = (index) => {\r\n        hoverEffict.index = index;\r\n        hoverEffict.isShowing = true;\r\n        videoTimer = setTimeout(() => {\r\n            hoverEffict.videoIndex = index;\r\n            index = absoluteIndex(index);\r\n            videoData.value[index].TmpVideoUrl =\r\n                config.SERVER_API + videoData.value[index].VideoUrl;\r\n        }, 1500);\r\n    };\r\n\r\n    const handleMouseLeave = (index) => {\r\n        clearTimeout(videoTimer);\r\n        hoverEffict.isShowing = false;\r\n        hoverEffict.index = -1;\r\n        hoverEffict.videoIndex = -1;\r\n        hoverEffict.progress = 0;\r\n\r\n        index = absoluteIndex(index);\r\n        videoData.value[index].TmpVideoUrl = \"\";\r\n    };\r\n\r\n    const handleVideoClick = (e) => {\r\n        if (e.target.paused) {\r\n            e.target.play();\r\n        } else {\r\n            e.target.pause();\r\n        }\r\n    };\r\n\r\n    const handleProgress = (e) => {\r\n        if (e.target.paused) {\r\n            return;\r\n        }\r\n        hoverEffict.progress = (e.offsetX / e.target.clientWidth) * 100;\r\n        e.target.currentTime = (e.target.duration * hoverEffict.progress) / 100;\r\n    };\r\n\r\n    const setTitleHref = (id) => {\r\n        let temMId = videoData.value[absoluteIndex(id)].MId\r\n        if (videoData.value[absoluteIndex(id)].CollStr.length != 0) {\r\n            GetMoviesByColl(videoData.value[absoluteIndex(id)].CollStr).then((res) => {\r\n                if (res.code == 200) {\r\n                    videoDataStore.setVideoData(res.data);\r\n                    for (let i = 0; i < res.data.length; i++) {\r\n                        if (res.data[i].MId === temMId) {\r\n                            router.push({name: \"video\", params: {id: i}});\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            router.push({name: \"video\", params: {id: absoluteIndex(id)}});\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n    div.cards {\r\n        margin: 15px;\r\n        height: 100%;\r\n        width: 0 auto;\r\n        right: 10px;\r\n        left: 10px;\r\n        @include phone() {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    div.cards::after {\r\n        content: \"\";\r\n        width: 100%;\r\n        height: 150px;\r\n        display: block;\r\n    }\r\n\r\n    .card {\r\n        display: inline-block;\r\n        margin: 10px;\r\n        position: relative;\r\n        text-align: left;\r\n        transition: all 0.3s 0s ease-in;\r\n        max-width: var(--videoCardWidth);\r\n        z-index: 1;\r\n        border-radius: 10px 10px 0 0;\r\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n\r\n        .card-title {\r\n            padding: 6px 15px 10px;\r\n            position: relative;\r\n            z-index: 0;\r\n\r\n            .ellipsistitle {\r\n                max-width: calc($videoCardWidth * 0.9);\r\n            }\r\n        }\r\n    }\r\n\r\n    /* 封面相关 */\r\n\r\n    .card-image {\r\n        cursor: pointer;\r\n        border-radius: inherit;\r\n\r\n        img {\r\n            border-radius: inherit;\r\n        }\r\n\r\n        .card-duration {\r\n            position: absolute;\r\n            bottom: 42px;\r\n            right: 10px;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            transition: opacity 0.3s;\r\n            z-index: 5;\r\n            font-size: 13px;\r\n            background-color: rgba(43, 104, 165, 0.4);\r\n            color: #fff;\r\n            border-radius: 2px;\r\n            z-index: inherit;\r\n        }\r\n    }\r\n\r\n    /* 视频相关 */\r\n    .video-mask {\r\n        top: 0;\r\n        position: absolute;\r\n        background-color: #000;\r\n        border-radius: inherit;\r\n\r\n        video {\r\n            margin: 0;\r\n            border-radius: inherit;\r\n        }\r\n    }\r\n\r\n    .set-cover {\r\n        display: -webkit-flex;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        position: absolute;\r\n        top: 8px;\r\n        right: 8px;\r\n        width: 28px;\r\n        height: 28px;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        z-index: 9;\r\n        transform: translateZ(0);\r\n    }\r\n\r\n    .set-cover-tip {\r\n        display: none;\r\n    }\r\n\r\n    .set-cover-svg:hover + .set-cover-tip {\r\n        pointer-events: none;\r\n        user-select: none;\r\n        position: absolute;\r\n        bottom: -6px;\r\n        right: -10px;\r\n        transform: translateY(100%);\r\n        font-size: 12px;\r\n        color: #fff;\r\n        border-radius: 4px;\r\n        line-height: 18px;\r\n        padding: 4px 8px;\r\n        background-color: rgba(0, 0, 0, 0.8);\r\n        white-space: nowrap;\r\n        display: -webkit-flex;\r\n    }\r\n\r\n    .set-cover-svg {\r\n        display: -webkit-flex;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        position: absolute;\r\n        top: 8px;\r\n        right: 8px;\r\n        width: 28px;\r\n        height: 28px;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        transform: translateZ(0);\r\n    }\r\n\r\n    .video-duration-progress {\r\n        position: absolute;\r\n        bottom: 0px;\r\n        width: 100%;\r\n        height: 10px;\r\n        border-color: rgb(0, 0, 0);\r\n        border-style: solid;\r\n        border-width: 4px 8px;\r\n        background: #444;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .video-duration-progress span {\r\n        display: block;\r\n        background: #fff;\r\n        height: 2px;\r\n        transition: width 0.12s;\r\n    }\r\n\r\n    div.card div.card-flap {\r\n        position: absolute;\r\n        width: 100%;\r\n        transform-origin: top;\r\n        transform: rotateX(-90deg);\r\n    }\r\n\r\n    div.card div.flap1 {\r\n        transition: all 0.3s 0.3s ease-out;\r\n        z-index: -1;\r\n        @include theme();\r\n    }\r\n\r\n    div.cards.showing div.card {\r\n        cursor: pointer;\r\n        opacity: 0.6;\r\n        transform: scale(0.88);\r\n    }\r\n\r\n    .no-touch div.cards.showing div.card:hover {\r\n        opacity: 0.94;\r\n        transform: scale(0.92);\r\n    }\r\n\r\n    div.card.show {\r\n        opacity: 1 !important;\r\n        transform: scale(1) !important;\r\n        z-index: 10;\r\n    }\r\n\r\n    div.card.show div.card-title a.toggle-info span {\r\n        top: 15px;\r\n    }\r\n\r\n    div.card.show div.card-flap {\r\n        transform: rotateX(0deg);\r\n    }\r\n\r\n    div.card.show div.flap1 {\r\n        transition: all 0.3s 0s ease-out;\r\n    }\r\n\r\n    .description {\r\n        padding: 6px 15px 10px;\r\n        position: relative;\r\n        font-size: 14px;\r\n    }\r\n\r\n    .videoListForPhone {\r\n        margin-top: 20px;\r\n        display: none;\r\n\r\n        .coll {\r\n            @include theme();\r\n        }\r\n\r\n        @include phone() {\r\n            display: block;\r\n        }\r\n    }\r\n</style>\r\n","import script from \"./MiddleList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MiddleList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MiddleList.vue?vue&type=style&index=0&id=6f6efc4e&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <n-layout-footer class=\"footer\" bordered> 版权所有 mxq</n-layout-footer>\r\n</template>\r\n\r\n<script setup>\r\n\r\n</script>\r\n\r\n<!--v-bind样例-->\r\n<style scoped lang=\"scss\">\r\n    .footer {\r\n        text-align: center;\r\n        @include theme();\r\n    }\r\n</style>\r\n","import { render } from \"./Footer.vue?vue&type=template&id=e1afa5d8&scoped=true\"\nconst script = {}\n\nimport \"./Footer.vue?vue&type=style&index=0&id=e1afa5d8&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\vue\\\\lmdb\\\\vue_lmdb\\\\lmdb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e1afa5d8\"]])\n\nexport default __exports__","import script from \"./Home.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Home.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n    <n-space justify=\"space-between\">\r\n        <n-space vertical>\r\n            <div class=\"VideoContent\">\r\n                <canvas id=\"localVideoCanvas\" style=\"display: none\"></canvas>\r\n                <video\r\n                        id=\"lvideo\"\r\n                        ref=\"videoCon\"\r\n                        :src=videoUrl\r\n                        autoplay\r\n                        @loadeddata=\"handleLoadStart\"\r\n                        @click=\"handlePlay\"\r\n                        @timeupdate=\"handleTimeProgress\"\r\n                        @ended=\"handleEnd\"\r\n                        @mousemove=\"handleMouseMove\"\r\n                        @pause=\"handlePause\"\r\n                        style=\"display: block\"\r\n                        x5-video-player-type=\"h5\"\r\n                        webkit-playsinline=\"\"\r\n                        playsinline=\"\"\r\n                        preload=\"metadata\"\r\n                        crossorigin=\"anonymous\"\r\n                ></video>\r\n                <!--            下方控制台-->\r\n                <div class=\"progressMask\"\r\n                     @click=\"handleProgress\"\r\n                     v-show=\"showControl\">\r\n                    <span class=\"progress\"> </span>\r\n                    <span class=\"bkg\"> </span>\r\n                    <div class=\"progressBtn\">\r\n                        <n-icon size=\"16\">\r\n                            <VehicleSubway16Regular/>\r\n                        </n-icon>\r\n                    </div>\r\n                </div>\r\n                <div class=\"videoPlayCtrl\"\r\n                     @mouseenter=\"handlePlayCtrlEnter\"\r\n                     v-show=\"showControl\">\r\n                    <n-icon\r\n                            v-show=\"currentData.CollStr !== ''\"\r\n                            @click=\"handlePlayPre\"\r\n                            @mouseenter=\"handlePlayPreEnter\"\r\n                            class=\"preControl\" :size=controlBtnSize>\r\n                        <Previous20Regular/>\r\n                    </n-icon>\r\n                    <!--                播放/暂停按钮-->\r\n                    <n-icon\r\n                            v-show=\"playStatus\" class=\"playControl\" :size=controlBtnSize @click=\"handlePlay\">\r\n                        <PausePresentationOutlined/>\r\n                    </n-icon>\r\n                    <n-icon v-show=\"!playStatus\" class=\"playControl\" :size=controlBtnSize @click=\"handlePlay\">\r\n                        <LiveTvRound/>\r\n                    </n-icon>\r\n\r\n                    <!--            下一个视频-->\r\n                    <n-icon\r\n                            v-show=\"currentData.CollStr !== ''\"\r\n                            @click=\"handlePlayNext\"\r\n                            @mouseenter=\"handlePlayNextEnter\"\r\n                            class=\"nextControl\" :size=controlBtnSize>\r\n                        <Next20Regular/>\r\n                    </n-icon>\r\n\r\n                    <!--                显示时间-->\r\n                    <div class=\"timeView\"\r\n                         @click=\"handleTimeTextClick\"\r\n                         v-show=!showTimeEditInput\r\n                    >{{controlTimeView.playTime}}/{{controlTimeView.duration}}\r\n                    </div>\r\n\r\n                    <!--            评论按钮-->\r\n                    <n-icon class=\"movieComment\"\r\n                            :size=controlBtnSize\r\n                            @click=\"handleCommentBtn\"\r\n                    >\r\n                        <CommentEdit20Regular/>\r\n                    </n-icon>\r\n\r\n                    <div v-show=\"CommentContentShow\"\r\n                         class=\"CommentContent\">\r\n                <textarea ref=\"CommentContentRef\"\r\n                          v-model=CommentSubmitStr\r\n                          @keyup.enter=\"handleCommentSubmit\"\r\n                          class=\"CommentInput\"/>\r\n                        <div class=\"CommentSubmit\"\r\n                        >\r\n                            <n-checkbox\r\n                                    v-model:checked=CommentSubmitPic\r\n                                    size=\"large\" label=\"提交图片\"/>\r\n                            <n-icon\r\n                                    @click=\"handleCommentSubmit\"\r\n                                    class=\"CommentSend\"\r\n                                    :size=controlBtnSize>\r\n                                <Send20Regular/>\r\n                            </n-icon>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <input class=\"timeEdit\"\r\n                           type=\"text\"\r\n                           v-model=inputTime\r\n                           v-show=showTimeEditInput\r\n                           @keyup.enter=\"handleInputBlur\"\r\n                           @blur=\"handleInputBlur\"\r\n                           ref=\"refInput\">\r\n                    <n-icon class=\"coverSet\" :size=controlBtnSize\r\n                            @click=\"handleClickClap\">\r\n                        <Camera/>\r\n                    </n-icon>\r\n\r\n                    <!--                声音调整按钮-->\r\n\r\n                    <n-icon\r\n                            v-show=volumeBtnShow\r\n                            @mouseenter=\"volumeControlMouseEnter\"\r\n                            @mouseleave=\"volumeControlMouseLeave\"\r\n                            @click=\"volumeControlClick\"\r\n                            class=\"volumeControl\" :size=controlBtnSize>\r\n                        <VolumeUpFilled/>\r\n                    </n-icon>\r\n                    <n-icon\r\n                            v-show=!volumeBtnShow\r\n                            @mouseenter=\"volumeControlMouseEnter\"\r\n                            @mouseleave=\"volumeControlMouseLeave\"\r\n                            @click=\"volumeControlClick\"\r\n                            class=\"volumeControl\" :size=controlBtnSize>\r\n                        <VolumeOffRound/>\r\n                    </n-icon>\r\n\r\n                    <!--            音量进度条显示-->\r\n                    <div\r\n                            v-show=volumeShow\r\n                            @click=\"handleVolumeProgressClick\"\r\n                            @mousedown=\"handleVolumeProgressDown\"\r\n                            @mouseenter=\"handleVolumeBoxEnter\"\r\n                            @mouseleave=\"handleVolumeBoxLeave\"\r\n                    >\r\n                <span class=\"volumeBox\">\r\n                    {{volumePercent}}\r\n            </span>\r\n                        <div\r\n                                class=\"volumeProgress\"\r\n                                ref=\"volumeBoxRef\">\r\n                            <div class=\"currentProgress\">\r\n                                <div class=\"volumeMoveBtn\"\r\n                                >\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n                    <!--                全屏按钮-->\r\n                    <n-icon class=\"fullScreen\" :size=controlBtnSize @click=\"handleFull\">\r\n                        <FullScreenMaximize24Filled/>\r\n                    </n-icon>\r\n\r\n                    <div v-show=\"controlNotifyShow\"\r\n                         class=\"controlNotify\">\r\n                        {{notifyMsg}}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <!--            视频暂停时显示-->\r\n                <n-icon v-show=!playStatus class=\"tvOff\" size=\"90\">\r\n                    <LiveTvRound/>\r\n                </n-icon>\r\n\r\n                <!--        展开评论列表按钮-->\r\n                <div v-show=showControl>\r\n                    <n-icon v-show=!CommentListShow\r\n                            class=\"CommentListShowBtn\" size=\"24\"\r\n                            @click=\"handelCommentListShow\">\r\n                        <ChevronLeft28Regular/>\r\n                    </n-icon>\r\n                    <n-icon v-show=CommentListShow\r\n                            class=\"CommentListShowBtn\" size=\"24\"\r\n                            @click=\"handelCommentListShow\">\r\n                        <ChevronRight28Regular/>\r\n                    </n-icon>\r\n                </div>\r\n\r\n\r\n                <div v-show=CommentListShow\r\n                     class=\"CommentCards\">\r\n                    <div class=\"CommentCard\"\r\n                         v-for=\"(item,index) in CommentListData\">\r\n                        <div class=\"CommentDot\"\r\n                             :style=\"getRandomColor(index)\">\r\n                        </div>\r\n                        <div class=\"CommentTimeText\"\r\n                             :style=\"getRandomColor(index)\"\r\n                             @dblclick=\"handleCommentTimeDblclick(index)\">\r\n                            {{item.CommentFrameStr}} | {{item.CommentTime}} | {{index+1}} / {{commentListLen}}\r\n                        </div>\r\n\r\n                        <n-icon\r\n                                class=\"CommentDel\" size=\"21\"\r\n                                @click=\"handleCommentDel(index)\">\r\n                            <Delete20Regular/>\r\n                        </n-icon>\r\n\r\n                        <div class=\"CommentRight\">\r\n                            <img v-show=\"item.CommentImage!==''\" :src=\"setCoverData(item.CommentImage)\"/>\r\n                            {{item.CommentStr}}\r\n                            <div style=\"clear:both;\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"LeftDownForm\">\r\n                <n-space style=\"height: 360px;margin-top:30px\">\r\n                    <!-- 左侧图片 -->\r\n                    <img class=\"videoCardSize\" :src=\"setCoverData(currentData.Cover)\"/>\r\n\r\n                    <div v-show=\"!showEditForm\">\r\n                        <n-space vertical style=\"width: 320px\">\r\n                            <div>\r\n            <span style=\"font-size: 18px; float: left\"\r\n            >{{ currentData.Title }}\r\n              <n-button\r\n                      v-show=\"currentData.CollStr !== ''\"\r\n                      strong\r\n                      secondary\r\n                      type=\"tertiary\"\r\n                      round\r\n                      size=\"tiny\"\r\n                      style=\"margin-left: 10px\"\r\n              >\r\n                <template #icon>\r\n                  <n-icon><FolderDetails/></n-icon>\r\n                </template>\r\n                合集\r\n              </n-button>\r\n            </span>\r\n                            </div>\r\n                            <n-space>\r\n                                <div v-for=\"(item, index) in currentData.TagArray\">\r\n                                    <n-tag :type=\"labelTypes[index]\" round>\r\n                                        {{ item }}\r\n                                    </n-tag>\r\n                                </div>\r\n                            </n-space>\r\n                            <n-ellipsis\r\n                                    style=\"max-width: 320px\"\r\n                                    expand-trigger=\"click\"\r\n                                    line-clamp=\"3\"\r\n                                    :tooltip=\"false\"\r\n                            >\r\n                                {{ currentData.Desc }}\r\n                            </n-ellipsis>\r\n                        </n-space>\r\n\r\n                    </div>\r\n\r\n                    <n-form\r\n                            v-show=\"showEditForm\"\r\n                            class=\"middleInfo\"\r\n                            ref=\"formInstRef\"\r\n                            style=\"width: 320px\"\r\n                            size=\"small\"\r\n                            :model=\"videoFormModel\"\r\n                            :rules=\"rules\"\r\n                            label-placement=\"left\"\r\n                    >\r\n                        <n-form-item label=\"标题\" path=\"Title\">\r\n                            <n-input\r\n                                    v-model:value=\"videoFormModel.Title\"\r\n                                    :default-value=\"videoFormModel.Title\"\r\n                                    placeholder=\"请输入标题\"\r\n                            />\r\n                        </n-form-item>\r\n                        <n-form-item label=\"标签\" path=\"TagArray\">\r\n                            <n-select\r\n                                    :default-value=\"videoFormModel.TagArray\"\r\n                                    placeholder=\"增加或删除标签\"\r\n                                    v-model:value=\"videoFormModel.TagArray\"\r\n                                    multiple\r\n                                    :options=\"videoTagOption\"\r\n                            />\r\n                        </n-form-item>\r\n                        <n-form-item label=\"介绍\" path=\"Desc\">\r\n                            <n-input\r\n                                    v-model:value=\"videoFormModel.Desc\"\r\n                                    type=\"textarea\"\r\n                                    placeholder=\"请输入视频介绍信息\"\r\n                                    :default-value=\"videoFormModel.Desc\"\r\n                            />\r\n                        </n-form-item>\r\n\r\n                        <n-form-item label=\"合集\" path=\"CollStr\">\r\n                            <n-select\r\n                                    placeholder=\"创建或选择加入已有合集\"\r\n                                    :default-value=\"videoFormModel.CollStr\"\r\n                                    v-model:value=\"videoFormModel.CollStr\"\r\n                                    filterable\r\n                                    tag\r\n                                    :options=\"collOptions\"\r\n                            />\r\n                        </n-form-item>\r\n                        <div style=\"display: flex; justify-content: flex-end\">\r\n                            <n-button size=\"small\" @click=\"handleClose\"> 关闭</n-button>\r\n                            <n-button size=\"small\" @click=\"handleRecover\"> 恢复</n-button>\r\n                            <n-button size=\"small\" @click=\"handleValidateClick\"> 提交</n-button>\r\n                        </div>\r\n                    </n-form>\r\n\r\n                    <n-space vertical>\r\n                        <n-button\r\n                                @click=\"showEditForm = !showEditForm\"\r\n                                strong\r\n                                secondary\r\n                                type=\"tertiary\"\r\n                                round\r\n                                size=\"tiny\"\r\n                        >\r\n                            <template #icon>\r\n                                <n-icon>\r\n                                    <Edit/>\r\n                                </n-icon>\r\n                            </template>\r\n                            编辑\r\n                        </n-button>\r\n\r\n                        <n-button strong secondary type=\"tertiary\" round size=\"tiny\">\r\n                            <template #icon>\r\n                                <n-icon>\r\n                                    <Favorite/>\r\n                                </n-icon>\r\n                            </template>\r\n                            收藏\r\n                        </n-button>\r\n                    </n-space>\r\n                </n-space>\r\n\r\n            </div>\r\n        </n-space>\r\n        <div class=\"RightCommentList\">\r\n            <n-card class=\"CollList\"\r\n                    v-show=\"currentData.CollStr !== ''\"\r\n                    title=\"合集列表\">\r\n                <template #header-extra>\r\n                    <n-switch\r\n                            v-model:value=\"CollListSwitchList\"\r\n                            :rail-style=\"railStyle\"\r\n                    >\r\n                        <template #checked>\r\n                            连播\r\n                        </template>\r\n                        <template #unchecked>\r\n                            单播\r\n                        </template>\r\n                    </n-switch>\r\n                </template>\r\n                <n-grid\r\n                        x-gap=\"15\" y-gap=\"15\" :cols=\"4\"\r\n                >\r\n                    <n-gi v-for=\"(item,index) in videoData\">\r\n                        <n-tooltip placement=\"bottom\" trigger=\"hover\">\r\n                            <template #trigger>\r\n                                <n-button size=\"large\"\r\n                                          :color=\"getCollListBtnColor(index)\"\r\n                                          @click=\"handleCollListBtnClick(index)\"\r\n                                >\r\n                                    {{index+1}}\r\n                                </n-button>\r\n                            </template>\r\n                            <span> {{item.Title}} </span>\r\n                        </n-tooltip>\r\n                    </n-gi>\r\n                </n-grid>\r\n            </n-card>\r\n\r\n            <n-card class=\"CollList\" title=\"评论列表\">\r\n                <template #header-extra>\r\n                    <n-switch :rail-style=\"railStyle\">\r\n                        <template #checked>\r\n                            关闭\r\n                        </template>\r\n                        <template #unchecked>\r\n                            展开\r\n                        </template>\r\n                    </n-switch>\r\n                </template>\r\n\r\n            </n-card>\r\n\r\n        </div>\r\n    </n-space>\r\n\r\n</template>\r\n\r\n<script setup>\r\n    import {\r\n        VehicleSubway16Regular, FullScreenMaximize24Filled, Next20Regular,\r\n        Previous20Regular, CommentEdit20Regular, Send20Regular, ChevronLeft28Regular,\r\n        ChevronRight28Regular, Delete20Regular\r\n    } from \"@vicons/fluent\";\r\n    import {Edit, FolderDetails, Favorite, Camera} from \"@vicons/carbon\";\r\n    import {\r\n        VolumeUpFilled,\r\n        PausePresentationOutlined,\r\n        VolumeOffRound,\r\n        LiveTvRound,\r\n    } from \"@vicons/material\";\r\n\r\n    import {useRouter} from \"vue-router\";\r\n\r\n    const router = useRouter();\r\n\r\n    import {getUTCTime, timeFilter, timeStrToSec, getCurrentTime} from \"@/api/timefilter\";\r\n    import {ref, reactive, nextTick, computed, onBeforeUnmount, onBeforeMount} from \"vue\";\r\n    import {UpdateVideo, AddComment, GetComment, DeleteComment, GetAllColl, DeleteMovieColl} from \"@/api/videolist\";\r\n\r\n    import {storeToRefs} from \"pinia\";\r\n    import {useVideoData} from \"@/store/videoData\";\r\n\r\n    const videoDataStore = useVideoData();\r\n    var {videoData} = storeToRefs(videoDataStore);\r\n\r\n    const routeID = defineProps([\"Id\"]);\r\n    const currentData = ref(videoData.value[routeID.Id]);\r\n\r\n    const videoUrl = computed(() => {\r\n        return config.SERVER_API + currentData.value.VideoUrl;\r\n    });\r\n\r\n    const getVideoWidth = () => {\r\n        if (document.body.clientWidth > 1000) {\r\n            return \"668px\"\r\n        } else {\r\n            return document.body.clientWidth + \"px\";\r\n        }\r\n    }\r\n    const getVideoHeight = () => {\r\n        if (document.body.clientWidth > 1000) {\r\n            return \"376px\"\r\n        } else {\r\n            return document.body.clientWidth * 0.56 + \"px\";\r\n        }\r\n    }\r\n    let isFull = false;\r\n    window.onresize = () => {\r\n        if (document.body.clientWidth > 1000) {\r\n            videoCon.value.controls = false;\r\n            isMobile = false;\r\n        } else {\r\n            videoCon.value.controls = true;\r\n            isMobile = true;\r\n        }\r\n        if (isFull) {\r\n            videoWidth.value = \"100%\";\r\n        } else {\r\n            videoWidth.value = getVideoWidth();\r\n            videoHeight.value = getVideoHeight();\r\n        }\r\n    };\r\n\r\n    let lvideo = {};\r\n\r\n    const controlBtnSize = \"24px\";\r\n\r\n    const progressBtnLeft = ref(\"0\");\r\n    const mouseLeft = ref(\"0px\");\r\n    const videoWidth = ref(getVideoWidth());\r\n    const videoHeight = ref(getVideoHeight());\r\n    const showControl = ref(true);\r\n    const showTimeEditInput = ref(false);\r\n    const controlNotifyShow = ref(false);\r\n    let videoControlTimer;\r\n\r\n    let controlNotifyShowTimer;\r\n\r\n    const setCoverData = (cover) => {\r\n        if (cover.indexOf(\";\") != -1) {\r\n            return cover;\r\n        }\r\n        return \"data:image/png;base64,\" + cover;\r\n    };\r\n\r\n    const notifyMsg = ref();\r\n    let controlTimeView = reactive(\r\n        {\r\n            playTime: timeFilter(0),\r\n            duration: timeFilter(0),\r\n        })\r\n\r\n    const handleProgress = (e) => {\r\n        progressBtnLeft.value = e.offsetX.toString() + \"px\";\r\n        lvideo.currentTime = e.offsetX / e.target.clientWidth * lvideo.duration;\r\n    };\r\n    const delayClearNotifyMsg = (z) => {\r\n        notifyMsg.value = z;\r\n        clearTimeout(controlNotifyShowTimer);\r\n        controlNotifyShow.value = true;\r\n        setTimeout(function () {\r\n            controlNotifyShow.value = false;\r\n        }, 3000)\r\n    }\r\n\r\n    const CommentListData = ref(\r\n        []\r\n    )\r\n    const videoCon = ref();\r\n    const handleLoadStart = (e) => {\r\n        if (isMobile) {\r\n            videoCon.value.controls = true;\r\n        }\r\n        playStatus.value = true;\r\n        GetComment(currentData.value.MId).then((res) => {\r\n            CommentListData.value = res.data;\r\n        })\r\n        lvideo = document.getElementById(\"lvideo\");\r\n        controlTimeView.duration = timeFilter(lvideo.duration);\r\n        if (currentData.value.LastWatch > 0) {\r\n            e.target.currentTime = currentData.value.LastWatch;\r\n            delayClearNotifyMsg(\"为您定位至:\" + timeFilter(currentData.value.LastWatch));\r\n\r\n        }\r\n        if (currentData.value.Duration.length !== 0) {\r\n            return;\r\n        }\r\n        let updateTime = {\r\n            MId: currentData.value.MId,\r\n            Duration: timeFilter(e.target.duration),\r\n        };\r\n        UpdateVideo(updateTime);\r\n    };\r\n\r\n    const playStatus = ref(true);\r\n    const handlePlay = () => {\r\n        playStatus.value = !playStatus.value;\r\n        if (isMobile) {\r\n            return\r\n        }\r\n        if (lvideo.paused) {\r\n            lvideo.play();\r\n            showControl.value = false;\r\n        } else {\r\n            showControl.value = true;\r\n            lvideo.pause();\r\n        }\r\n    };\r\n\r\n    const CollListSwitchList = ref(true);\r\n\r\n    const handleEnd = () => {\r\n        playStatus.value = false;\r\n        if (!CollListSwitchList.value) {\r\n            return;\r\n        }\r\n        handlePlayNextEnter();\r\n        setTimeout(function () {\r\n            handlePlayNext();\r\n        }, 3000)\r\n    }\r\n\r\n\r\n    const handleTimeProgress = (e) => {\r\n        if (isMobile) {\r\n            return;\r\n        }\r\n        progressBtnLeft.value = e.target.currentTime / e.target.duration * 100 + '%';\r\n        controlTimeView.playTime = timeFilter(e.target.currentTime);\r\n    }\r\n\r\n    const handleFull = () => {\r\n        if (!document.fullscreenElement) {\r\n            isFull = true;\r\n            document.querySelector('.VideoContent').requestFullscreen();\r\n            videoWidth.value = \"100%\";\r\n        } else {\r\n            isFull = false;\r\n            document.exitFullscreen();\r\n            videoWidth.value = getVideoWidth();\r\n        }\r\n    };\r\n\r\n    document.addEventListener('fullscreenchange', () => {\r\n        if (!document.fullscreenElement) {\r\n            isFull = false;\r\n            videoWidth.value = getVideoWidth();\r\n        }\r\n    })\r\n\r\n    const handleMouseMove = () => {\r\n        if (isMobile) {\r\n            return\r\n        }\r\n        clearTimeout(videoControlTimer);\r\n        showControl.value = true;\r\n        if (lvideo.paused) {\r\n            return;\r\n        }\r\n        videoControlTimer = setTimeout(function () {\r\n            showControl.value = false;\r\n        }, 3000);\r\n    }\r\n    const handlePlayCtrlEnter = () => {\r\n        clearTimeout(videoControlTimer);\r\n        showControl.value = true;\r\n    }\r\n    const inputTime = ref();\r\n    const refInput = ref();\r\n    const handleTimeTextClick = () => {\r\n        showTimeEditInput.value = true;\r\n        inputTime.value = timeFilter(lvideo.currentTime);\r\n        nextTick(() => {\r\n            refInput.value.focus()\r\n        })\r\n    }\r\n    const handleInputBlur = () => {\r\n        let inputTimeSec = timeStrToSec(inputTime.value);\r\n        if (inputTimeSec > lvideo.duration) {\r\n            lvideo.currentTime = lvideo.duration;\r\n            inputTime.value = timeFilter(lvideo.currentTime);\r\n        } else {\r\n            lvideo.currentTime = inputTimeSec;\r\n        }\r\n        showTimeEditInput.value = false;\r\n    }\r\n\r\n\r\n    const volumeHeight = ref(\r\n        \"70px\"\r\n    )\r\n\r\n    const volumePercent = ref(\r\n        100\r\n    )\r\n    const volumeBtnShow = ref(true);\r\n    const handleVolumeProgressDown = (e) => {\r\n        document.onmousemove = (e) => {\r\n            handleVolumeProgressClick(e);\r\n        };\r\n        document.onmouseup = function () {\r\n            document.onmousemove = document.onmouseup = null;\r\n        };\r\n        return false;\r\n    }\r\n\r\n    const defaultHeight = 60;\r\n    const volumeBoxRef = ref();\r\n    const handleVolumeProgressClick = (e) => {\r\n        let tmpHeight = volumeBoxRef.value.getBoundingClientRect().y + defaultHeight - e.y;\r\n\r\n        if (tmpHeight < 0) {\r\n            tmpHeight = 0;\r\n        }\r\n        if (tmpHeight > defaultHeight) {\r\n            tmpHeight = defaultHeight;\r\n        }\r\n        volumePercent.value = Math.floor(tmpHeight / defaultHeight * 100);\r\n        volumeHeight.value = tmpHeight + \"px\";\r\n        lvideo.volume = volumePercent.value / 100;\r\n        if (volumePercent.value === 0) {\r\n            volumeBtnShow.value = false;\r\n        } else {\r\n            volumeBtnShow.value = true;\r\n        }\r\n    }\r\n\r\n\r\n    const volumeShow = ref(false);\r\n    let volumeShowTimer;\r\n    const volumeControlMouseEnter = () => {\r\n        volumeShow.value = true;\r\n    }\r\n\r\n    const volumeControlMouseLeave = () => {\r\n        document.onmousemove = document.onmouseup = null;\r\n        clearTimeout(volumeShowTimer);\r\n        volumeShowTimer = setTimeout(function () {\r\n            volumeShow.value = false;\r\n        }, 1000);\r\n    }\r\n    const handleVolumeBoxEnter = () => {\r\n        clearTimeout(volumeShowTimer);\r\n        volumeShow.value = true;\r\n    }\r\n    const handleVolumeBoxLeave = () => {\r\n        volumeShow.value = false;\r\n    }\r\n    const volumeControlClick = () => {\r\n        volumeBtnShow.value = !volumeBtnShow.value;\r\n        if (volumeBtnShow.value === false) {\r\n            volumeHeight.value = \"0px\";\r\n            volumePercent.value = 0;\r\n            lvideo.volume = 0;\r\n        }\r\n    }\r\n\r\n    const getVideoCoverDataURL = () => {\r\n        const mycanvas = document.getElementById(\"localVideoCanvas\"); // 获取 canvas 对象\r\n        const ctx = mycanvas.getContext(\"2d\"); // 绘制2d\r\n        mycanvas.width = lvideo.clientWidth; // 获取视频宽度\r\n        mycanvas.height = lvideo.clientHeight; //获取视频高度\r\n        ctx.drawImage(lvideo, 0, 0, mycanvas.width, mycanvas.height);\r\n        return mycanvas.toDataURL(\"image/png\"); // 导出图片\r\n    }\r\n\r\n    const handleClickClap = () => {\r\n        videoData.value[CollListSelected.value].Cover = getVideoCoverDataURL();\r\n        let tmpCover = {\r\n            MId: currentData.value.MId,\r\n            Cover: videoData.value[CollListSelected.value].Cover.slice(22),\r\n        };\r\n        UpdateVideo(tmpCover);\r\n        delayClearNotifyMsg(\"为您截取一张图片\");\r\n    };\r\n\r\n    onBeforeUnmount(() => {\r\n        handlePause();\r\n    });\r\n\r\n    const handlePause = () => {\r\n        let updateTime = {\r\n            MId: currentData.value.MId,\r\n            RecentWatch: getUTCTime(),\r\n            LastWatch: Math.floor(lvideo.currentTime),\r\n        };\r\n        videoData.value[CollListSelected.value].LastWatch = Math.floor(lvideo.currentTime);\r\n        UpdateVideo(updateTime);\r\n    };\r\n\r\n    const CommentContentShow = ref(false);\r\n    const CommentContentRef = ref();\r\n    const handleCommentBtn = () => {\r\n        if (!lvideo.paused) {\r\n            playStatus.value = false;\r\n            showControl.value = true;\r\n            lvideo.pause();\r\n        }\r\n        showControl.value = true;\r\n        CommentContentShow.value = !CommentContentShow.value;\r\n        nextTick(() => {\r\n            CommentContentRef.value.focus()\r\n        })\r\n    }\r\n\r\n    const CommentListShow = ref(false);\r\n\r\n    const handelCommentListShow = () => {\r\n        CommentListShow.value = !CommentListShow.value;\r\n    }\r\n\r\n    const CommentSubmitPic = ref(\r\n        true\r\n    );\r\n    const CommentSubmitStr = ref(\"\");\r\n\r\n    const CommentSubmitStrMaxLen = 300;\r\n    const handleCommentSubmit = () => {\r\n        if (CommentSubmitStr.value.length <= 0 || CommentSubmitStr.value.length > CommentSubmitStrMaxLen) {\r\n            return\r\n        }\r\n        if (CommentListData.value.length > 15) {\r\n            delayClearNotifyMsg(\"当前评论数量已经超过15\");\r\n            return;\r\n        }\r\n        let tempImage = \"\";\r\n        if (CommentSubmitPic.value) {\r\n            tempImage = getVideoCoverDataURL();\r\n        }\r\n\r\n        let addData = {\r\n            CommentImage: tempImage.slice(22),\r\n            CommentStr: CommentSubmitStr.value,\r\n            CommentFrameStr: timeFilter(lvideo.currentTime),\r\n            CommentFrame: lvideo.currentTime,\r\n            CommentTime: getCurrentTime(),\r\n            MId: currentData.value.MId,\r\n        };\r\n        try {\r\n            AddComment(addData).then((res) => {\r\n                if (res.code === 200) {\r\n                    CommentListData.value.push(addData);\r\n                }\r\n            })\r\n        } catch (e) {\r\n\r\n        }\r\n\r\n\r\n        CommentSubmitStr.value = \"\";\r\n        CommentSubmitPic.value = true;\r\n        CommentListShow.value = true;\r\n        CommentContentShow.value = false;\r\n    }\r\n    const randomColor = [\"#EF9A9A\", \"#F48FB1\", \"#CE93D8\", \"#9575CD\", \"#3949AB\",\r\n        \"#1E88E5\", \"#4FC3F7\", \"#4DD0E1\", \"#26A69A\", \"#66BB6A\", \"#9CCC65\", \"#DCE775\",\r\n        \"#FDD835\", \"#FFA000\", \"#FB8C00\", \"#F4511E\", \"#8D6E63\", \"#78909C\", \"#BDBDBD\"];\r\n    const getRandomColor = (index) => {\r\n        return \"background:\" + randomColor[index % randomColor.length]\r\n    }\r\n    const handleCommentTimeDblclick = (index) => {\r\n        lvideo.currentTime = CommentListData.value[index].CommentFrame;\r\n    }\r\n\r\n    const handleCommentDel = (index) => {\r\n        DeleteComment({\r\n            MId: currentData.value.MId,\r\n            CommentFrame: CommentListData.value[index].CommentFrame,\r\n        });\r\n        CommentListData.value.splice(index, 1);\r\n    }\r\n\r\n    document.body.onkeydown = function (e) {\r\n        var e = event || window.event || arguments.callee.caller.arguments[0];\r\n        // 空格\r\n        if (e.keyCode == 32) {\r\n            e.preventDefault();\r\n            handlePlay();\r\n        }\r\n        // 左键\r\n        if (e.keyCode == 39) {\r\n            lvideo.currentTime += 6;\r\n        }\r\n        // 右键\r\n        if (e.keyCode == 37) {\r\n            lvideo.currentTime -= 6;\r\n        }\r\n        // 插入键，截图\r\n        if (e.keyCode == 45) {\r\n            handleClickClap()\r\n        }\r\n        // Ctrl键，添加评论\r\n        if (e.keyCode == 17) {\r\n            handleCommentBtn()\r\n        }\r\n        // Alt + A键 打开/关闭评论列表\r\n        if (e.altKey && e.keyCode == 65) {\r\n            handelCommentListShow()\r\n        }\r\n    }\r\n\r\n    const commentListLen = computed(() => {\r\n        return CommentListData.value.length;\r\n    });\r\n\r\n    const CollListSelected = ref(routeID.Id);\r\n    const getCollListBtnColor = (index) => {\r\n        if (index == CollListSelected.value) {\r\n            return \"#26C6DA\";\r\n        }\r\n    }\r\n    const handleCollListBtnClick = (index) => {\r\n        CollListSelected.value = index;\r\n        currentData.value = videoData.value[index];\r\n        updateVideoFormModel();\r\n    }\r\n\r\n    const handlePlayPre = () => {\r\n        let temIndex = parseInt(CollListSelected.value) - 1;\r\n        if (temIndex < 0) {\r\n            return\r\n        }\r\n        CollListSelected.value = temIndex;\r\n        currentData.value = videoData.value[temIndex];\r\n        updateVideoFormModel();\r\n    }\r\n\r\n    const handlePlayNext = () => {\r\n        let temIndex = parseInt(CollListSelected.value) + 1;\r\n        if (temIndex >= videoData.value.length) {\r\n            return\r\n        }\r\n        CollListSelected.value = temIndex;\r\n        currentData.value = videoData.value[temIndex];\r\n        updateVideoFormModel();\r\n    }\r\n\r\n    const handlePlayPreEnter = () => {\r\n        let temIndex = parseInt(CollListSelected.value) - 1;\r\n        if (temIndex >= videoData.value.length) {\r\n            return\r\n        }\r\n        delayClearNotifyMsg(\"上一个:\" + videoData.value[temIndex].Title);\r\n    }\r\n\r\n    const handlePlayNextEnter = () => {\r\n        if (currentData.value.CollStr === '') {\r\n            return;\r\n        }\r\n        let temIndex = parseInt(CollListSelected.value) + 1;\r\n        if (temIndex >= videoData.value.length) {\r\n            return\r\n        }\r\n        delayClearNotifyMsg(\"下一个:\" + videoData.value[temIndex].Title);\r\n    }\r\n\r\n\r\n    var showEditForm = ref(false);\r\n    const formInstRef = ref(null);\r\n    const labelTypes = [\"success\", \"warning\", \"error\", \"info\"];\r\n    var videoFormModel = ref({\r\n        Title: currentData.value.Title,\r\n        TagArray: currentData.value.TagArray,\r\n        Desc: currentData.value.Desc,\r\n        CollStr: currentData.value.CollStr,\r\n    });\r\n\r\n    const updateVideoFormModel = () => {\r\n        videoFormModel.value.Title = currentData.value.Title\r\n        videoFormModel.value.TagArray = currentData.value.TagArray\r\n        videoFormModel.value.Desc = currentData.value.Desc\r\n        videoFormModel.value.CollStr = currentData.value.CollStr\r\n    }\r\n    const rules = {\r\n        Title: {\r\n            required: true,\r\n            min: 1,\r\n            max: 15,\r\n            message: \"标题最短长度为 1,最大长度为15\",\r\n        },\r\n        TagArray: {\r\n            required: true,\r\n            type: \"array\",\r\n            min: 1,\r\n            max: 4,\r\n            message: \"最新需要1个标签,最多可以填写4个标签\",\r\n        },\r\n        Desc: {\r\n            required: false,\r\n            max: 300,\r\n            message: \"介绍内容不能超过300\",\r\n        },\r\n        CollStr: {\r\n            required: false,\r\n            max: 15,\r\n            message: \"集合名称最大长度为15\",\r\n        },\r\n    };\r\n\r\n    let collOptions = ref([{label: \"\", value: \"\"}]);\r\n    const videoTagOption = computed(() => {\r\n        let tmpOptions = [];\r\n        for (var i = 0; i < config.AllVideoTags.length; i++) {\r\n            tmpOptions.push({\r\n                label: config.AllVideoTags[i],\r\n                value: config.AllVideoTags[i],\r\n            });\r\n        }\r\n        return tmpOptions;\r\n    });\r\n    let isMobile = false;\r\n    onBeforeMount(() => {\r\n        if (document.body.clientWidth <= 1000) {\r\n            isMobile = true;\r\n        }\r\n        GetAllColl().then((res) => {\r\n            if (res.code == 200) {\r\n                for (var i = 0; i < res.data.length; i++) {\r\n                    collOptions.value.push({\r\n                        label: res.data[i],\r\n                        value: res.data[i],\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n\r\n    const handleRecover = () => {\r\n        videoFormModel.value.Title = currentData.value.Title;\r\n        videoFormModel.value.TagArray = [];\r\n        videoFormModel.value.TagArray.push(...currentData.value.TagArray);\r\n        videoFormModel.value.Desc = currentData.value.Desc;\r\n        videoFormModel.value.CollStr = currentData.value.CollStr;\r\n        formInstRef.value?.restoreValidation();\r\n    };\r\n\r\n    const handleClose = () => {\r\n        showEditForm.value = false;\r\n    };\r\n\r\n    const handleValidateClick = () => {\r\n        let getError = false;\r\n        formInstRef.value?.validate((errors) => {\r\n            if (errors) {\r\n                getError = true;\r\n                console.error(errors);\r\n            }\r\n        });\r\n\r\n        function procForm() {\r\n            if (getError === true) {\r\n                return;\r\n            }\r\n            videoFormModel.value.MId = currentData.value.MId;\r\n            UpdateVideo(videoFormModel.value);\r\n            videoData.value[CollListSelected.value].Title = videoFormModel.value.Title;\r\n            videoData.value[CollListSelected.value].Desc = videoFormModel.value.Desc;\r\n            videoData.value[CollListSelected.value].TagArray = videoFormModel.value.TagArray;\r\n            videoData.value[CollListSelected.value].CollStr = videoFormModel.value.CollStr;\r\n            if (videoFormModel.value.CollStr === \"\") {\r\n                DeleteMovieColl(videoFormModel.value.MId);\r\n            }\r\n            showEditForm.value = false;\r\n        }\r\n\r\n        setTimeout(procForm, 100);\r\n    };\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    $BtnHoverColor: #FF80AB;\r\n    .VideoContent {\r\n        width: v-bind(videoWidth);\r\n        position: relative;\r\n        display: flex;\r\n        height: v-bind(videoHeight);\r\n\r\n        video {\r\n            position: absolute;\r\n            width: v-bind(videoWidth);\r\n            height: 100%;\r\n            align-items: center;\r\n            bottom: 0;\r\n        }\r\n\r\n        .progressMask {\r\n            @include phone() {\r\n                display: none;\r\n            }\r\n            width: v-bind(videoWidth);\r\n            cursor: pointer;\r\n            position: absolute;\r\n            display: flex;\r\n            height: 15px;\r\n            border-radius: 3px;\r\n            bottom: 30px;\r\n\r\n            &:hover {\r\n                .progressBtn {\r\n                    display: block;\r\n                    position: absolute;\r\n                    left: v-bind(progressBtnLeft);\r\n                    top: -8px;\r\n                }\r\n            }\r\n\r\n            .progressBtn {\r\n                display: none;\r\n            }\r\n\r\n            .bkg {\r\n                width: v-bind(videoWidth);\r\n                position: absolute;\r\n                height: 2px;\r\n                background: $lightPink;\r\n                opacity: 0.5;\r\n            }\r\n\r\n            .progress {\r\n                width: v-bind(videoWidth);\r\n                position: relative;\r\n                height: 2px;\r\n                width: v-bind(progressBtnLeft);\r\n                background: $BtnHoverColor;\r\n            }\r\n        }\r\n\r\n        $videoPlayCtrlBottom: 4px;\r\n\r\n\r\n        .videoPlayCtrl {\r\n            @include phone() {\r\n                display: none;\r\n            }\r\n            width: v-bind(videoWidth);\r\n            height: 36px;\r\n            position: absolute;\r\n            display: flex;\r\n            bottom: 0px;\r\n            background-color: rgb(21, 21, 21, 0.1);\r\n\r\n            .playControl {\r\n                position: absolute;\r\n                left: 50px;\r\n                cursor: pointer;\r\n                top: $videoPlayCtrlBottom;\r\n\r\n                &:hover {\r\n                    color: $BtnHoverColor;\r\n                }\r\n            }\r\n\r\n            .nextControl {\r\n                position: absolute;\r\n                left: 90px;\r\n                cursor: pointer;\r\n                top: $videoPlayCtrlBottom;\r\n\r\n                &:hover {\r\n                    color: $BtnHoverColor;\r\n                }\r\n            }\r\n\r\n            .preControl {\r\n                position: absolute;\r\n                left: 10px;\r\n                cursor: pointer;\r\n                top: $videoPlayCtrlBottom;\r\n\r\n                &:hover {\r\n                    color: $BtnHoverColor;\r\n                }\r\n            }\r\n\r\n            .timeView {\r\n                position: absolute;\r\n                left: 150px;\r\n                font-size: 15px;\r\n                top: $videoPlayCtrlBottom;\r\n                cursor: text;\r\n                user-select: none;\r\n\r\n                &:hover {\r\n                    color: $BtnHoverColor;\r\n                }\r\n            }\r\n\r\n            .timeEdit {\r\n                position: absolute;\r\n                left: 150px;\r\n                font-size: 15px;\r\n                top: $videoPlayCtrlBottom;\r\n                border: none;\r\n                width: 70px;\r\n                outline: medium;\r\n                cursor: text;\r\n                background: rgb(189, 189, 189, 0.3);\r\n                user-select: none;\r\n            }\r\n\r\n            .coverSet {\r\n                position: absolute;\r\n                left: 300px;\r\n                font-size: 15px;\r\n                top: $videoPlayCtrlBottom;\r\n                cursor: pointer;\r\n\r\n                &:hover {\r\n                    color: $BtnHoverColor;\r\n                }\r\n            }\r\n\r\n\r\n            .movieComment {\r\n                position: absolute;\r\n                left: 380px;\r\n                top: $videoPlayCtrlBottom;\r\n                cursor: pointer;\r\n\r\n                &:hover {\r\n                    color: $BtnHoverColor;\r\n                }\r\n\r\n            }\r\n\r\n            $commentBkgColor: rgb(255, 128, 171, .6);\r\n            $commentLeft: 100px;\r\n            $commentBottom: -30px;\r\n            $commentBorder: 15px;\r\n            $commentWidth: 240px;\r\n            $commentHeight: 150px;\r\n\r\n            .CommentContent {\r\n                width: $commentWidth;\r\n                height: $commentHeight;\r\n                border: none;\r\n                border-radius: $commentBorder;\r\n                position: absolute;\r\n                left: 280px;\r\n                top: -180px;\r\n                background: $commentBkgColor;\r\n                z-index: 1;\r\n\r\n                .CommentInput {\r\n                    background: transparent;\r\n                    border: none;\r\n                    border-radius: $commentBorder;\r\n                    width: $commentWidth - 4;\r\n                    height: $commentHeight - 40;\r\n                    position: relative;\r\n                    top: 0;\r\n                    left: 0;\r\n                    resize: none;\r\n                    outline: none;\r\n                    font-size: 18px;\r\n                    color: #ffffff;\r\n                    font-weight: bold;\r\n                }\r\n\r\n                .CommentSubmit {\r\n                    position: absolute;\r\n                    bottom: 6px;\r\n                    left: 30px;\r\n\r\n                    .CommentSend {\r\n                        bottom: -6px;\r\n                        cursor: pointer;\r\n                        margin-left: 10px;\r\n\r\n                        &:hover {\r\n                            color: $BtnHoverColor;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                &:before {\r\n                    content: '';\r\n                    width: 0;\r\n                    height: 0;\r\n                    border: $commentBorder solid;\r\n                    position: absolute;\r\n                    bottom: $commentBottom;\r\n                    left: $commentLeft;\r\n                    border-color: $commentBkgColor transparent transparent;\r\n                }\r\n\r\n                &:after {\r\n                    content: '';\r\n                    width: 0;\r\n                    height: 0;\r\n                    border: $commentBorder solid;\r\n                    position: absolute;\r\n                    bottom: $commentBottom;\r\n                    left: $commentLeft;\r\n                    border-color: $commentBkgColor transparent transparent;\r\n                }\r\n            }\r\n\r\n            .volumeControl {\r\n                position: absolute;\r\n                right: 120px;\r\n                cursor: pointer;\r\n                top: $videoPlayCtrlBottom;\r\n\r\n\r\n                &:hover {\r\n                    color: $BtnHoverColor;\r\n                }\r\n            }\r\n\r\n\r\n            $volumeViewBottom: 55px;\r\n            $volumeViewHeight: 100px;\r\n\r\n\r\n            .volumeBox {\r\n                position: absolute;\r\n                height: $volumeViewHeight;\r\n                width: 30px;\r\n                right: 120px;\r\n                font-size: 12px;\r\n                text-align: center;\r\n                bottom: $volumeViewBottom;\r\n                background: rgb(19, 19, 19, 0.6);\r\n                user-select: none;\r\n            }\r\n\r\n            .volumeProgress {\r\n                position: absolute;\r\n                cursor: pointer;\r\n                height: $volumeViewHeight - 40;\r\n                width: 3px;\r\n                right: 133px;\r\n                bottom: $volumeViewBottom + 20;\r\n                background: white;\r\n\r\n                .currentProgress {\r\n                    position: absolute;\r\n                    max-height: $volumeViewHeight - 40;\r\n                    height: v-bind(volumeHeight);\r\n                    width: 3px;\r\n                    background: lightblue;\r\n                    bottom: 0;\r\n\r\n                    .volumeMoveBtn {\r\n                        position: absolute;\r\n                        height: 12px;\r\n                        width: 12px;\r\n                        left: -5px;\r\n                        border-radius: 6px;\r\n                        background: lightblue;\r\n                        bottom: v-bind(volumeHeight)-6px;\r\n\r\n                        &:hover {\r\n                            box-shadow: 0 0 2px 2px lightblue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            .fullScreen {\r\n                position: absolute;\r\n                right: 10px;\r\n                cursor: pointer;\r\n                top: $videoPlayCtrlBottom;\r\n\r\n                &:hover {\r\n                    color: $BtnHoverColor;\r\n                }\r\n            }\r\n\r\n            .controlNotify {\r\n                position: absolute;\r\n                font-size: 15px;\r\n                left: 20px;\r\n                bottom: $volumeViewBottom;\r\n                background-color: rgb(21, 21, 21, 0.6);\r\n                line-height: 40px;\r\n                text-align: center;\r\n                width: 180px;\r\n                border-radius: 15px;\r\n                user-select: none;\r\n            }\r\n        }\r\n\r\n\r\n        .tvOff {\r\n            @include phone() {\r\n                display: none;\r\n            }\r\n            display: flex;\r\n            position: absolute;\r\n            right: 10px;\r\n            bottom: 75px;\r\n        }\r\n\r\n        .CommentListShowBtn {\r\n            @include phone() {\r\n                display: none;\r\n            }\r\n            display: flex;\r\n            position: absolute;\r\n            right: 5px;\r\n            bottom: 210px;\r\n            align-items: center;\r\n            height: 80px;\r\n            background-color: rgb(21, 21, 21, .4);\r\n            z-index: 1;\r\n\r\n            &:hover {\r\n                color: $BtnHoverColor;\r\n            }\r\n        }\r\n\r\n        .CommentCards {\r\n            @include phone() {\r\n                display: none;\r\n            }\r\n            top: 5px;\r\n            position: absolute;\r\n            width: 360px;\r\n            max-height: 85%;\r\n            right: 0;\r\n            flex-direction: column;\r\n            z-index: 0;\r\n            overflow-y: scroll;\r\n\r\n            .CommentCard {\r\n                display: flex;\r\n                overflow: hidden;\r\n                padding-left: 30px;\r\n                background: repeating-linear-gradient(#0000 0 calc(1.2rem - 1px), #66afe1 0 1.2rem) right bottom /100% 100%, linear-gradient(#ff0000 0 0) 20px 0/2px 100% rgb(255, 255, 255, 1);\r\n                background-repeat: no-repeat;\r\n                line-height: 1.2rem;\r\n                -webkit-mask: radial-gradient(circle 0.8rem at 2px 50%, #0000 98%, #000) 0 0/100% 2.4rem;\r\n                flex-direction: column;\r\n\r\n                $CommentDotWeight: 14px;\r\n\r\n                .CommentDot {\r\n                    position: absolute;\r\n                    left: $CommentDotWeight;\r\n                    width: $CommentDotWeight;\r\n                    height: $CommentDotWeight;\r\n                    border-radius: calc($CommentDotWeight / 2);\r\n                }\r\n\r\n                .CommentTimeText {\r\n                    position: relative;\r\n                    left: 0px;\r\n                    width: 100%;\r\n                    height: 20px;\r\n                    display: flex;\r\n                    user-select: none;\r\n\r\n                    &:hover {\r\n                        box-shadow: 0 0 2px 2px lightblue;\r\n                    }\r\n                }\r\n\r\n                .CommentDel {\r\n                    position: absolute;\r\n                    right: 20px;\r\n                    display: flex;\r\n                    color: floralwhite;\r\n\r\n                    &:hover {\r\n                        color: blueviolet;\r\n                    }\r\n                }\r\n\r\n                .CommentRight {\r\n                    width: 100%;\r\n                    word-break: break-all;\r\n                    color: black;\r\n                    font-family: 华文行楷;\r\n                    border-radius: 10px;\r\n\r\n                    img {\r\n                        float: left;\r\n                        margin: 6px 6px 6px 0px;\r\n                        width: 150px;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .LeftDownForm {\r\n        @include phone() {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    .RightCommentList {\r\n        margin-left: 30px;\r\n        width: 400px;\r\n        max-height: 1000px;\r\n        background-color: rgb(21, 21, 21, 0.3);\r\n        @include phone() {\r\n            width: 350px;\r\n            margin-left: 10px;\r\n        }\r\n\r\n        .collapse {\r\n            position: relative;\r\n            font-size: 18px;\r\n            text-align-all: center;\r\n            align-items: center;\r\n            margin-top: 10px;\r\n        }\r\n\r\n        .CollList {\r\n            max-height: 600px;\r\n            background-color: rgb(21, 21, 21, 0.3);\r\n            overflow: auto;\r\n            @include theme();\r\n        }\r\n    }\r\n</style>\r\n","import script from \"./LVideo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LVideo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LVideo.vue?vue&type=style&index=0&id=a70b379a&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\vue\\\\lmdb\\\\vue_lmdb\\\\lmdb\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a70b379a\"]])\n\nexport default __exports__","<template>\r\n    <Header/>\r\n    <n-layout class=\"videopage\">\r\n\r\n        <div class=\"videospace\">\r\n            <LVideo :Id=routeID></LVideo>\r\n        </div>\r\n\r\n    </n-layout>\r\n    <Footer/>\r\n</template>\r\n\r\n<script setup>\r\n    import {useRoute} from \"vue-router\";\r\n    import Header from \"@/components/Header.vue\";\r\n    import LVideo from \"@/components/LVideo.vue\";\r\n    import Footer from \"@/components/Footer\";\r\n\r\n    const route = useRoute();\r\n    const routeID = route.params.id;\r\n\r\n</script>\r\n<style lang=\"scss\">\r\n    .videopage {\r\n        margin-top: var(--headerTop);\r\n        height: 100%;\r\n        @include theme();\r\n    }\r\n\r\n    .videospace {\r\n        float: left;\r\n        margin-top: 30px;\r\n        margin-left: 30px;\r\n        @include phone() {\r\n            margin-left: 0px;\r\n            margin-top: 0px;\r\n        }\r\n    }\r\n</style>\r\n","import script from \"./Video.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Video.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Video.vue?vue&type=style&index=0&id=82440d40&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createRouter, createWebHashHistory } from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport Video from '../views/Video.vue'\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        name: 'home',\r\n        component: Home\r\n    },\r\n    {\r\n        path: '/video',\r\n        name: 'video',\r\n        component: Video\r\n    },\r\n]\r\nconst router = createRouter({\r\n    history: createWebHashHistory(process.env.BASE_URL),\r\n    routes\r\n})\r\nexport default router\r\n","import { createPinia } from 'pinia';\r\nimport piniaPluginPersist from 'pinia-plugin-persist';\r\n\r\nconst store = createPinia();\r\nstore.use(piniaPluginPersist);\r\n\r\nexport default store;","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store';\r\nimport naive from 'naive-ui'\r\nimport  '@/config/config.js'\r\n\r\ncreateApp(App).use(router).use(store).use(naive).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklmdb\"] = self[\"webpackChunklmdb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(65); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["config","SERVER_API","AllVideoTags","useDarkTheme","defineStore","id","state","themeData","actions","unsetDarkTheme","this","setDarkTheme","persist","enabled","strategies","key","storage","localStorage","darkThemeStore","storeToRefs","theme","computed","value","darkTheme","__exports__","themeBtnText","reactive","text","onBeforeMount","setAttribute","window","document","documentElement","logourl","require","avatarurl","handleThemeClick","addEventListener","scrollY","body","style","setProperty","options","label","href","renderMenuLabel","option","h","useVideoData","videoData","addVideoData","val","push","setVideoData","service","axios","baseURL","timeout","interceptors","request","use","error","Promise","reject","response","dataAxios","data","code","status","GetVideList","httpRequest","url","method","SyncVideo","param","JSON","stringify","UpdateVideo","GetAllTags","GetMoviesByTag","GetAllColl","GetMovieAndColl","BatchAddColl","GetMoviesByColl","GetMoviesByRecent","DeleteMovieColl","GetComment","DeleteComment","AddComment","imgurl","videoDataStore","tmpOptions","i","length","Title","router","useRouter","handleSeleteed","temMId","MId","CollStr","then","res","name","params","timeFilter","p","t","Math","floor","m","s","timeStrToSec","timeStr","hour","split","min","sec","Number","getUTCTime","d1","Date","d2","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","parse","getCurrentTime","date","year","getFullYear","mon","getMonth","da","getDate","getHours","getMinutes","getSeconds","notification","useNotification","syncVideoSize","tabVal","ref","tagIndex","syncVideoForm","MinSize","MovieExt","allTags","allColl","handleUpdateValue","success","content","duration","handleTagClick","index","handleCollClick","pageWidth","clientWidth","page","videoCardWidth","pageSize","handleUpdatePage","emit","pageSizeArr","pageCount","ceil","videodataNum","onresize","handleSbumitClick","go","collMenuOptions","collMenuSelectKey","collEditForm","expandedCollNames","handleAddCollFormSubmit","SelectedValues","DefaultCollName","temData","CollName","MIds","handleLoadMovieAndColl","handleCollMenuSelect","handleAddCollFormCancel","handleCollHeaderClick","expanded","defaultCover","labelTypes","begin","end","absoluteIndex","setCoverData","cover","indexOf","handlePageChange","handleChangeBck","myvideo","getElementById","mycanvas","ctx","getContext","width","height","clientHeight","drawImage","Cover","toDataURL","tmpCover","slice","console","log","TmpVideoUrl","setTimeout","VideoUrl","hoverEffict","progress","handleLoadVideo","e","Duration","target","temDuration","videoIndex","isShowing","videoTimer","handleMouseEnter","handleMouseLeave","clearTimeout","handleVideoClick","paused","play","pause","handleProgress","offsetX","currentTime","setTitleHref","_createBlock","_component_n_layout_footer","class","bordered","script","render","currentData","routeID","Id","videoUrl","getVideoWidth","getVideoHeight","isFull","videoCon","controls","isMobile","videoWidth","videoHeight","lvideo","controlBtnSize","progressBtnLeft","showControl","showTimeEditInput","controlNotifyShow","videoControlTimer","controlNotifyShowTimer","notifyMsg","controlTimeView","playTime","toString","delayClearNotifyMsg","z","CommentListData","handleLoadStart","playStatus","LastWatch","updateTime","handlePlay","CollListSwitchList","handleEnd","handlePlayNextEnter","handlePlayNext","handleTimeProgress","handleFull","fullscreenElement","exitFullscreen","querySelector","requestFullscreen","handleMouseMove","handlePlayCtrlEnter","inputTime","refInput","handleTimeTextClick","nextTick","focus","handleInputBlur","inputTimeSec","volumeHeight","volumePercent","volumeBtnShow","handleVolumeProgressDown","onmousemove","handleVolumeProgressClick","onmouseup","defaultHeight","volumeBoxRef","tmpHeight","getBoundingClientRect","y","volume","volumeShow","volumeShowTimer","volumeControlMouseEnter","volumeControlMouseLeave","handleVolumeBoxEnter","handleVolumeBoxLeave","volumeControlClick","getVideoCoverDataURL","handleClickClap","CollListSelected","onBeforeUnmount","handlePause","RecentWatch","CommentContentShow","CommentContentRef","handleCommentBtn","CommentListShow","handelCommentListShow","CommentSubmitPic","CommentSubmitStr","CommentSubmitStrMaxLen","handleCommentSubmit","tempImage","addData","CommentImage","CommentStr","CommentFrameStr","CommentFrame","CommentTime","randomColor","getRandomColor","handleCommentTimeDblclick","handleCommentDel","splice","onkeydown","event","arguments","callee","caller","keyCode","preventDefault","altKey","commentListLen","getCollListBtnColor","handleCollListBtnClick","updateVideoFormModel","handlePlayPre","temIndex","parseInt","handlePlayPreEnter","showEditForm","formInstRef","videoFormModel","TagArray","Desc","rules","required","max","message","type","collOptions","videoTagOption","handleRecover","restoreValidation","handleClose","handleValidateClick","getError","procForm","validate","errors","route","useRoute","routes","path","component","Home","Video","createRouter","history","createWebHashHistory","process","store","createPinia","piniaPluginPersist","createApp","App","naive","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}